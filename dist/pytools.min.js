/*! pytools 2016-05-23 */
!function(a,b){var c,d,b,e=a.define;!function(a){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),c=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(c[g])&&(c[g]=c[g].replace(w,"")),c=n.concat(a),k=0;k<c.length;k+=1)if(m=c[k],"."===m)c.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===c[2]||".."===c[0]))break;k>0&&(c.splice(k-1,2),k-=2)}a=c.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(b,c){return function(){return n.apply(a,v.call(arguments,0).concat([b,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(b){if(e(r,b)){var c=r[b];delete r[b],t[b]=!0,m.apply(a,c)}if(!e(q,b)&&!e(t,b))throw new Error("No "+b);return q[b]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(b,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||b,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(b);else if("exports"===k)u[n]=p.exports(b),s=!0;else if("module"===k)h=u[n]=p.module(b);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(b+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[b],u):void 0,b&&(h&&h.exports!==a&&h.exports!==q[b]?q[b]=h.exports:l===a&&s||(q[b]=l))}else b&&(q[b]=d)},c=d=n=function(b,c,d,e,f){if("string"==typeof b)return p[b]?p[b](c):j(o(b,c).f);if(!b.splice){if(s=b,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(a,b,c,d):setTimeout(function(){m(a,b,c,d)},4),n},n.config=function(a){return n(a)},c._defined=q,b=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},b.amd={jQuery:!0}}(void 0),b("../manual-deps/almond/almond",function(){}),b("pytools/Tokens",["require","exports"],function(a,b){"use strict";var c={T_ENDMARKER:0,T_NAME:1,T_NUMBER:2,T_STRING:3,T_NEWLINE:4,T_INDENT:5,T_DEDENT:6,T_LPAR:7,T_RPAR:8,T_LSQB:9,T_RSQB:10,T_COLON:11,T_COMMA:12,T_SEMI:13,T_PLUS:14,T_MINUS:15,T_STAR:16,T_SLASH:17,T_VBAR:18,T_AMPER:19,T_LESS:20,T_GREATER:21,T_EQUAL:22,T_DOT:23,T_PERCENT:24,T_BACKQUOTE:25,T_LBRACE:26,T_RBRACE:27,T_EQEQUAL:28,T_NOTEQUAL:29,T_LESSEQUAL:30,T_GREATEREQUAL:31,T_TILDE:32,T_CIRCUMFLEX:33,T_LEFTSHIFT:34,T_RIGHTSHIFT:35,T_DOUBLESTAR:36,T_PLUSEQUAL:37,T_MINEQUAL:38,T_STAREQUAL:39,T_SLASHEQUAL:40,T_PERCENTEQUAL:41,T_AMPEREQUAL:42,T_VBAREQUAL:43,T_CIRCUMFLEXEQUAL:44,T_LEFTSHIFTEQUAL:45,T_RIGHTSHIFTEQUAL:46,T_DOUBLESTAREQUAL:47,T_DOUBLESLASH:48,T_DOUBLESLASHEQUAL:49,T_AT:50,T_OP:51,T_COMMENT:52,T_NL:53,T_RARROW:54,T_ERRORTOKEN:55,T_N_TOKENS:56,T_NT_OFFSET:256};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("pytools/tables",["require","exports","./Tokens"],function(a,b,c){"use strict";var d={"(":c["default"].T_LPAR,")":c["default"].T_RPAR,"[":c["default"].T_LSQB,"]":c["default"].T_RSQB,":":c["default"].T_COLON,",":c["default"].T_COMMA,";":c["default"].T_SEMI,"+":c["default"].T_PLUS,"-":c["default"].T_MINUS,"*":c["default"].T_STAR,"/":c["default"].T_SLASH,"|":c["default"].T_VBAR,"&":c["default"].T_AMPER,"<":c["default"].T_LESS,">":c["default"].T_GREATER,"=":c["default"].T_EQUAL,".":c["default"].T_DOT,"%":c["default"].T_PERCENT,"`":c["default"].T_BACKQUOTE,"{":c["default"].T_LBRACE,"}":c["default"].T_RBRACE,"@":c["default"].T_AT,"==":c["default"].T_EQEQUAL,"!=":c["default"].T_NOTEQUAL,"<>":c["default"].T_NOTEQUAL,"<=":c["default"].T_LESSEQUAL,">=":c["default"].T_GREATEREQUAL,"~":c["default"].T_TILDE,"^":c["default"].T_CIRCUMFLEX,"<<":c["default"].T_LEFTSHIFT,">>":c["default"].T_RIGHTSHIFT,"**":c["default"].T_DOUBLESTAR,"+=":c["default"].T_PLUSEQUAL,"-=":c["default"].T_MINEQUAL,"*=":c["default"].T_STAREQUAL,"/=":c["default"].T_SLASHEQUAL,"%=":c["default"].T_PERCENTEQUAL,"&=":c["default"].T_AMPEREQUAL,"|=":c["default"].T_VBAREQUAL,"^=":c["default"].T_CIRCUMFLEXEQUAL,"<<=":c["default"].T_LEFTSHIFTEQUAL,">>=":c["default"].T_RIGHTSHIFTEQUAL,"**=":c["default"].T_DOUBLESTAREQUAL,"//":c["default"].T_DOUBLESLASH,"//=":c["default"].T_DOUBLESLASHEQUAL,"->":c["default"].T_RARROW},e={sym:{AndExpr:257,ArithmeticExpr:258,AtomExpr:259,BitwiseAndExpr:260,BitwiseOrExpr:261,BitwiseXorExpr:262,ComparisonExpr:263,ExprList:264,ExprStmt:265,GeometricExpr:266,GlobalStmt:267,IfExpr:268,LambdaExpr:269,NonLocalStmt:270,NotExpr:271,OrExpr:272,PowerExpr:273,ShiftExpr:274,UnaryExpr:275,YieldExpr:276,arglist:277,argument:278,assert_stmt:279,augassign:280,break_stmt:281,classdef:282,comp_op:283,compound_stmt:284,continue_stmt:285,decorated:286,decorator:287,decorators:288,del_stmt:289,dictmaker:290,dotted_as_name:291,dotted_as_names:292,dotted_name:293,encoding_decl:294,eval_input:295,except_clause:296,exec_stmt:297,file_input:298,flow_stmt:299,for_stmt:300,fpdef:301,fplist:302,funcdef:303,gen_for:304,gen_if:305,gen_iter:306,if_stmt:307,import_as_name:308,import_as_names:309,import_from:310,import_name:311,import_stmt:312,list_for:313,list_if:314,list_iter:315,listmaker:316,old_LambdaExpr:317,old_test:318,parameters:319,pass_stmt:320,print_stmt:321,raise_stmt:322,return_stmt:323,simple_stmt:324,single_input:256,sliceop:325,small_stmt:326,stmt:327,subscript:328,subscriptlist:329,suite:330,testlist:331,testlist1:332,testlist_gexp:333,testlist_safe:334,trailer:335,try_stmt:336,varargslist:337,while_stmt:338,with_stmt:339,with_var:340,yield_stmt:341},number2symbol:{256:"single_input",257:"AndExpr",258:"ArithmeticExpr",259:"AtomExpr",260:"BitwiseAndExpr",261:"BitwiseOrExpr",262:"BitwiseXorExpr",263:"ComparisonExpr",264:"ExprList",265:"ExprStmt",266:"GeometricExpr",267:"GlobalStmt",268:"IfExpr",269:"LambdaExpr",270:"NonLocalStmt",271:"NotExpr",272:"OrExpr",273:"PowerExpr",274:"ShiftExpr",275:"UnaryExpr",276:"YieldExpr",277:"arglist",278:"argument",279:"assert_stmt",280:"augassign",281:"break_stmt",282:"classdef",283:"comp_op",284:"compound_stmt",285:"continue_stmt",286:"decorated",287:"decorator",288:"decorators",289:"del_stmt",290:"dictmaker",291:"dotted_as_name",292:"dotted_as_names",293:"dotted_name",294:"encoding_decl",295:"eval_input",296:"except_clause",297:"exec_stmt",298:"file_input",299:"flow_stmt",300:"for_stmt",301:"fpdef",302:"fplist",303:"funcdef",304:"gen_for",305:"gen_if",306:"gen_iter",307:"if_stmt",308:"import_as_name",309:"import_as_names",310:"import_from",311:"import_name",312:"import_stmt",313:"list_for",314:"list_if",315:"list_iter",316:"listmaker",317:"old_LambdaExpr",318:"old_test",319:"parameters",320:"pass_stmt",321:"print_stmt",322:"raise_stmt",323:"return_stmt",324:"simple_stmt",325:"sliceop",326:"small_stmt",327:"stmt",328:"subscript",329:"subscriptlist",330:"suite",331:"testlist",332:"testlist1",333:"testlist_gexp",334:"testlist_safe",335:"trailer",336:"try_stmt",337:"varargslist",338:"while_stmt",339:"with_stmt",340:"with_var",341:"yield_stmt"},dfas:{256:[[[[1,1],[2,1],[3,2]],[[0,1]],[[2,1]]],{2:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1}],257:[[[[38,1]],[[39,0],[0,1]]],{6:1,7:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],258:[[[[40,1]],[[25,0],[37,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],259:[[[[21,1],[8,1],[9,4],[29,3],[32,2],[14,5],[18,6]],[[0,1]],[[41,7],[42,1]],[[43,1],[44,8],[45,8]],[[46,9],[47,1]],[[48,10]],[[18,6],[0,6]],[[42,1]],[[43,1]],[[47,1]],[[14,1]]],{8:1,9:1,14:1,18:1,21:1,29:1,32:1}],260:[[[[49,1]],[[50,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],261:[[[[51,1]],[[52,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],262:[[[[53,1]],[[54,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],263:[[[[55,1]],[[56,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],264:[[[[55,1]],[[57,2],[0,1]],[[55,1],[0,2]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],265:[[[[58,1]],[[59,2],[60,3],[0,1]],[[58,4],[45,4]],[[58,5],[45,5]],[[0,4]],[[60,3],[0,5]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],266:[[[[61,1]],[[62,0],[63,0],[64,0],[65,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],267:[[[[27,1]],[[21,2]],[[57,1],[0,2]]],{27:1}],268:[[[[66,1],[67,2]],[[0,1]],[[31,3],[0,2]],[[67,4]],[[68,5]],[[69,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],269:[[[[11,1]],[[70,2],[71,3]],[[69,4]],[[70,2]],[[0,4]]],{11:1}],270:[[[[13,1]],[[21,2]],[[57,1],[0,2]]],{13:1}],271:[[[[7,1],[72,2]],[[38,2]],[[0,2]]],{6:1,7:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],272:[[[[73,1]],[[74,0],[0,1]]],{6:1,7:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],273:[[[[75,1]],[[76,1],[77,2],[0,1]],[[49,3]],[[0,3]]],{8:1,9:1,14:1,18:1,21:1,29:1,32:1}],274:[[[[78,1]],[[79,0],[80,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],275:[[[[25,1],[6,1],[37,1],[81,2]],[[49,2]],[[0,2]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],276:[[[[26,1]],[[58,2],[0,1]],[[0,2]]],{26:1}],277:[[[[63,1],[82,2],[77,3]],[[69,4]],[[57,5],[0,2]],[[69,6]],[[57,7],[0,4]],[[63,1],[82,2],[77,3],[0,5]],[[0,6]],[[82,4],[77,3]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1,63:1,77:1}],278:[[[[69,1]],[[83,2],[60,3],[0,1]],[[0,2]],[[69,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],279:[[[[20,1]],[[69,2]],[[57,3],[0,2]],[[69,4]],[[0,4]]],{20:1}],280:[[[[84,1],[85,1],[86,1],[87,1],[88,1],[89,1],[90,1],[91,1],[92,1],[93,1],[94,1],[95,1]],[[0,1]]],{84:1,85:1,86:1,87:1,88:1,89:1,90:1,91:1,92:1,93:1,94:1,95:1}],281:[[[[33,1]],[[0,1]]],{33:1}],282:[[[[10,1]],[[21,2]],[[70,3],[29,4]],[[96,5]],[[43,6],[58,7]],[[0,5]],[[70,3]],[[43,6]]],{10:1}],283:[[[[97,1],[98,1],[7,2],[99,1],[97,1],[100,1],[101,1],[102,3],[103,1],[104,1]],[[0,1]],[[100,1]],[[7,1],[0,3]]],{7:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1}],284:[[[[105,1],[106,1],[107,1],[108,1],[109,1],[110,1],[111,1],[112,1]],[[0,1]]],{4:1,10:1,15:1,17:1,28:1,31:1,35:1,36:1}],285:[[[[34,1]],[[0,1]]],{34:1}],286:[[[[113,1]],[[111,2],[108,2]],[[0,2]]],{35:1}],287:[[[[35,1]],[[114,2]],[[2,4],[29,3]],[[43,5],[115,6]],[[0,4]],[[2,4]],[[43,5]]],{35:1}],288:[[[[116,1]],[[116,1],[0,1]]],{35:1}],289:[[[[22,1]],[[117,2]],[[0,2]]],{22:1}],290:[[[[69,1]],[[70,2]],[[69,3]],[[57,4],[0,3]],[[69,1],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],291:[[[[114,1]],[[118,2],[0,1]],[[21,3]],[[0,3]]],{21:1}],292:[[[[119,1]],[[57,0],[0,1]]],{21:1}],293:[[[[21,1]],[[120,0],[0,1]]],{21:1}],294:[[[[21,1]],[[0,1]]],{21:1}],295:[[[[58,1]],[[2,1],[121,2]],[[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],296:[[[[122,1]],[[69,2],[0,1]],[[118,3],[57,3],[0,2]],[[69,4]],[[0,4]]],{122:1}],297:[[[[16,1]],[[55,2]],[[100,3],[0,2]],[[69,4]],[[57,5],[0,4]],[[69,6]],[[0,6]]],{16:1}],298:[[[[2,0],[121,1],[123,0]],[[0,1]]],{2:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1,121:1}],299:[[[[124,1],[125,1],[126,1],[127,1],[128,1]],[[0,1]]],{5:1,19:1,26:1,33:1,34:1}],300:[[[[28,1]],[[117,2]],[[100,3]],[[58,4]],[[70,5]],[[96,6]],[[68,7],[0,6]],[[70,8]],[[96,9]],[[0,9]]],{28:1}],301:[[[[29,1],[21,2]],[[129,3]],[[0,2]],[[43,2]]],{21:1,29:1}],302:[[[[130,1]],[[57,2],[0,1]],[[130,1],[0,2]]],{21:1,29:1}],303:[[[[4,1]],[[21,2]],[[131,3]],[[70,4]],[[96,5]],[[0,5]]],{4:1}],304:[[[[28,1]],[[117,2]],[[100,3]],[[67,4]],[[132,5],[0,4]],[[0,5]]],{28:1}],305:[[[[31,1]],[[133,2]],[[132,3],[0,2]],[[0,3]]],{31:1}],306:[[[[83,1],[134,1]],[[0,1]]],{28:1,31:1}],307:[[[[31,1]],[[69,2]],[[70,3]],[[96,4]],[[68,5],[135,1],[0,4]],[[70,6]],[[96,7]],[[0,7]]],{31:1}],308:[[[[21,1]],[[118,2],[0,1]],[[21,3]],[[0,3]]],{21:1}],309:[[[[136,1]],[[57,2],[0,1]],[[136,1],[0,2]]],{21:1}],310:[[[[30,1]],[[114,2],[120,3]],[[24,4]],[[114,2],[24,4],[120,3]],[[137,5],[63,5],[29,6]],[[0,5]],[[137,7]],[[43,5]]],{30:1}],311:[[[[24,1]],[[138,2]],[[0,2]]],{24:1}],312:[[[[139,1],[140,1]],[[0,1]]],{24:1,30:1}],313:[[[[28,1]],[[117,2]],[[100,3]],[[141,4]],[[142,5],[0,4]],[[0,5]]],{28:1}],314:[[[[31,1]],[[133,2]],[[142,3],[0,2]],[[0,3]]],{31:1}],315:[[[[143,1],[144,1]],[[0,1]]],{28:1,31:1}],316:[[[[69,1]],[[143,2],[57,3],[0,1]],[[0,2]],[[69,4],[0,3]],[[57,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],317:[[[[11,1]],[[70,2],[71,3]],[[133,4]],[[70,2]],[[0,4]]],{11:1}],318:[[[[145,1],[67,1]],[[0,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],319:[[[[29,1]],[[43,2],[71,3]],[[0,2]],[[43,2]]],{29:1}],320:[[[[23,1]],[[0,1]]],{23:1}],321:[[[[12,1]],[[69,2],[79,3],[0,1]],[[57,4],[0,2]],[[69,5]],[[69,2],[0,4]],[[57,6],[0,5]],[[69,7]],[[57,8],[0,7]],[[69,7],[0,8]]],{12:1}],322:[[[[5,1]],[[69,2],[0,1]],[[57,3],[0,2]],[[69,4]],[[57,5],[0,4]],[[69,6]],[[0,6]]],{5:1}],323:[[[[19,1]],[[58,2],[0,1]],[[0,2]]],{19:1}],324:[[[[146,1]],[[2,2],[147,3]],[[0,2]],[[146,1],[2,2]]],{5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,16:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,29:1,30:1,32:1,33:1,34:1,37:1}],325:[[[[70,1]],[[69,2],[0,1]],[[0,2]]],{70:1}],326:[[[[148,1],[149,1],[150,1],[151,1],[152,1],[153,1],[154,1],[155,1],[156,1],[157,1]],[[0,1]]],{5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,16:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,29:1,30:1,32:1,33:1,34:1,37:1}],327:[[[[1,1],[3,1]],[[0,1]]],{4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1}],328:[[[[70,1],[69,2],[120,3]],[[158,4],[69,5],[0,1]],[[70,1],[0,2]],[[120,6]],[[0,4]],[[158,4],[0,5]],[[120,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1,70:1,120:1}],329:[[[[159,1]],[[57,2],[0,1]],[[159,1],[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1,70:1,120:1}],330:[[[[1,1],[2,2]],[[0,1]],[[160,3]],[[123,4]],[[161,1],[123,4]]],{2:1,5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,16:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,29:1,30:1,32:1,33:1,34:1,37:1}],331:[[[[69,1]],[[57,2],[0,1]],[[69,1],[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],332:[[[[69,1]],[[57,0],[0,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],333:[[[[69,1]],[[83,2],[57,3],[0,1]],[[0,2]],[[69,4],[0,3]],[[57,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],334:[[[[133,1]],[[57,2],[0,1]],[[133,3]],[[57,4],[0,3]],[[133,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],335:[[[[29,1],[120,2],[32,3]],[[43,4],[115,5]],[[21,4]],[[162,6]],[[0,4]],[[43,4]],[[42,4]]],{29:1,32:1,120:1}],336:[[[[15,1]],[[70,2]],[[96,3]],[[163,4],[164,5]],[[70,6]],[[70,7]],[[96,8]],[[96,9]],[[163,4],[68,10],[164,5],[0,8]],[[0,9]],[[70,11]],[[96,12]],[[164,5],[0,12]]],{15:1}],337:[[[[63,1],[130,2],[77,3]],[[21,4]],[[60,5],[57,6],[0,2]],[[21,7]],[[57,8],[0,4]],[[69,9]],[[63,1],[130,2],[77,3],[0,6]],[[0,7]],[[77,3]],[[57,6],[0,9]]],{21:1,29:1,63:1,77:1}],338:[[[[17,1]],[[69,2]],[[70,3]],[[96,4]],[[68,5],[0,4]],[[70,6]],[[96,7]],[[0,7]]],{17:1}],339:[[[[36,1]],[[69,2]],[[70,3],[165,4]],[[96,5]],[[70,3]],[[0,5]]],{36:1}],340:[[[[118,1]],[[55,2]],[[0,2]]],{118:1}],341:[[[[45,1]],[[0,1]]],{26:1}]},states:[[[[1,1],[2,1],[3,2]],[[0,1]],[[2,1]]],[[[38,1]],[[39,0],[0,1]]],[[[40,1]],[[25,0],[37,0],[0,1]]],[[[21,1],[8,1],[9,4],[29,3],[32,2],[14,5],[18,6]],[[0,1]],[[41,7],[42,1]],[[43,1],[44,8],[45,8]],[[46,9],[47,1]],[[48,10]],[[18,6],[0,6]],[[42,1]],[[43,1]],[[47,1]],[[14,1]]],[[[49,1]],[[50,0],[0,1]]],[[[51,1]],[[52,0],[0,1]]],[[[53,1]],[[54,0],[0,1]]],[[[55,1]],[[56,0],[0,1]]],[[[55,1]],[[57,2],[0,1]],[[55,1],[0,2]]],[[[58,1]],[[59,2],[60,3],[0,1]],[[58,4],[45,4]],[[58,5],[45,5]],[[0,4]],[[60,3],[0,5]]],[[[61,1]],[[62,0],[63,0],[64,0],[65,0],[0,1]]],[[[27,1]],[[21,2]],[[57,1],[0,2]]],[[[66,1],[67,2]],[[0,1]],[[31,3],[0,2]],[[67,4]],[[68,5]],[[69,1]]],[[[11,1]],[[70,2],[71,3]],[[69,4]],[[70,2]],[[0,4]]],[[[13,1]],[[21,2]],[[57,1],[0,2]]],[[[7,1],[72,2]],[[38,2]],[[0,2]]],[[[73,1]],[[74,0],[0,1]]],[[[75,1]],[[76,1],[77,2],[0,1]],[[49,3]],[[0,3]]],[[[78,1]],[[79,0],[80,0],[0,1]]],[[[25,1],[6,1],[37,1],[81,2]],[[49,2]],[[0,2]]],[[[26,1]],[[58,2],[0,1]],[[0,2]]],[[[63,1],[82,2],[77,3]],[[69,4]],[[57,5],[0,2]],[[69,6]],[[57,7],[0,4]],[[63,1],[82,2],[77,3],[0,5]],[[0,6]],[[82,4],[77,3]]],[[[69,1]],[[83,2],[60,3],[0,1]],[[0,2]],[[69,2]]],[[[20,1]],[[69,2]],[[57,3],[0,2]],[[69,4]],[[0,4]]],[[[84,1],[85,1],[86,1],[87,1],[88,1],[89,1],[90,1],[91,1],[92,1],[93,1],[94,1],[95,1]],[[0,1]]],[[[33,1]],[[0,1]]],[[[10,1]],[[21,2]],[[70,3],[29,4]],[[96,5]],[[43,6],[58,7]],[[0,5]],[[70,3]],[[43,6]]],[[[97,1],[98,1],[7,2],[99,1],[97,1],[100,1],[101,1],[102,3],[103,1],[104,1]],[[0,1]],[[100,1]],[[7,1],[0,3]]],[[[105,1],[106,1],[107,1],[108,1],[109,1],[110,1],[111,1],[112,1]],[[0,1]]],[[[34,1]],[[0,1]]],[[[113,1]],[[111,2],[108,2]],[[0,2]]],[[[35,1]],[[114,2]],[[2,4],[29,3]],[[43,5],[115,6]],[[0,4]],[[2,4]],[[43,5]]],[[[116,1]],[[116,1],[0,1]]],[[[22,1]],[[117,2]],[[0,2]]],[[[69,1]],[[70,2]],[[69,3]],[[57,4],[0,3]],[[69,1],[0,4]]],[[[114,1]],[[118,2],[0,1]],[[21,3]],[[0,3]]],[[[119,1]],[[57,0],[0,1]]],[[[21,1]],[[120,0],[0,1]]],[[[21,1]],[[0,1]]],[[[58,1]],[[2,1],[121,2]],[[0,2]]],[[[122,1]],[[69,2],[0,1]],[[118,3],[57,3],[0,2]],[[69,4]],[[0,4]]],[[[16,1]],[[55,2]],[[100,3],[0,2]],[[69,4]],[[57,5],[0,4]],[[69,6]],[[0,6]]],[[[2,0],[121,1],[123,0]],[[0,1]]],[[[124,1],[125,1],[126,1],[127,1],[128,1]],[[0,1]]],[[[28,1]],[[117,2]],[[100,3]],[[58,4]],[[70,5]],[[96,6]],[[68,7],[0,6]],[[70,8]],[[96,9]],[[0,9]]],[[[29,1],[21,2]],[[129,3]],[[0,2]],[[43,2]]],[[[130,1]],[[57,2],[0,1]],[[130,1],[0,2]]],[[[4,1]],[[21,2]],[[131,3]],[[70,4]],[[96,5]],[[0,5]]],[[[28,1]],[[117,2]],[[100,3]],[[67,4]],[[132,5],[0,4]],[[0,5]]],[[[31,1]],[[133,2]],[[132,3],[0,2]],[[0,3]]],[[[83,1],[134,1]],[[0,1]]],[[[31,1]],[[69,2]],[[70,3]],[[96,4]],[[68,5],[135,1],[0,4]],[[70,6]],[[96,7]],[[0,7]]],[[[21,1]],[[118,2],[0,1]],[[21,3]],[[0,3]]],[[[136,1]],[[57,2],[0,1]],[[136,1],[0,2]]],[[[30,1]],[[114,2],[120,3]],[[24,4]],[[114,2],[24,4],[120,3]],[[137,5],[63,5],[29,6]],[[0,5]],[[137,7]],[[43,5]]],[[[24,1]],[[138,2]],[[0,2]]],[[[139,1],[140,1]],[[0,1]]],[[[28,1]],[[117,2]],[[100,3]],[[141,4]],[[142,5],[0,4]],[[0,5]]],[[[31,1]],[[133,2]],[[142,3],[0,2]],[[0,3]]],[[[143,1],[144,1]],[[0,1]]],[[[69,1]],[[143,2],[57,3],[0,1]],[[0,2]],[[69,4],[0,3]],[[57,3],[0,4]]],[[[11,1]],[[70,2],[71,3]],[[133,4]],[[70,2]],[[0,4]]],[[[145,1],[67,1]],[[0,1]]],[[[29,1]],[[43,2],[71,3]],[[0,2]],[[43,2]]],[[[23,1]],[[0,1]]],[[[12,1]],[[69,2],[79,3],[0,1]],[[57,4],[0,2]],[[69,5]],[[69,2],[0,4]],[[57,6],[0,5]],[[69,7]],[[57,8],[0,7]],[[69,7],[0,8]]],[[[5,1]],[[69,2],[0,1]],[[57,3],[0,2]],[[69,4]],[[57,5],[0,4]],[[69,6]],[[0,6]]],[[[19,1]],[[58,2],[0,1]],[[0,2]]],[[[146,1]],[[2,2],[147,3]],[[0,2]],[[146,1],[2,2]]],[[[70,1]],[[69,2],[0,1]],[[0,2]]],[[[148,1],[149,1],[150,1],[151,1],[152,1],[153,1],[154,1],[155,1],[156,1],[157,1]],[[0,1]]],[[[1,1],[3,1]],[[0,1]]],[[[70,1],[69,2],[120,3]],[[158,4],[69,5],[0,1]],[[70,1],[0,2]],[[120,6]],[[0,4]],[[158,4],[0,5]],[[120,4]]],[[[159,1]],[[57,2],[0,1]],[[159,1],[0,2]]],[[[1,1],[2,2]],[[0,1]],[[160,3]],[[123,4]],[[161,1],[123,4]]],[[[69,1]],[[57,2],[0,1]],[[69,1],[0,2]]],[[[69,1]],[[57,0],[0,1]]],[[[69,1]],[[83,2],[57,3],[0,1]],[[0,2]],[[69,4],[0,3]],[[57,3],[0,4]]],[[[133,1]],[[57,2],[0,1]],[[133,3]],[[57,4],[0,3]],[[133,3],[0,4]]],[[[29,1],[120,2],[32,3]],[[43,4],[115,5]],[[21,4]],[[162,6]],[[0,4]],[[43,4]],[[42,4]]],[[[15,1]],[[70,2]],[[96,3]],[[163,4],[164,5]],[[70,6]],[[70,7]],[[96,8]],[[96,9]],[[163,4],[68,10],[164,5],[0,8]],[[0,9]],[[70,11]],[[96,12]],[[164,5],[0,12]]],[[[63,1],[130,2],[77,3]],[[21,4]],[[60,5],[57,6],[0,2]],[[21,7]],[[57,8],[0,4]],[[69,9]],[[63,1],[130,2],[77,3],[0,6]],[[0,7]],[[77,3]],[[57,6],[0,9]]],[[[17,1]],[[69,2]],[[70,3]],[[96,4]],[[68,5],[0,4]],[[70,6]],[[96,7]],[[0,7]]],[[[36,1]],[[69,2]],[[70,3],[165,4]],[[96,5]],[[70,3]],[[0,5]]],[[[118,1]],[[55,2]],[[0,2]]],[[[45,1]],[[0,1]]]],labels:[[0,"EMPTY"],[324,null],[4,null],[284,null],[1,"def"],[1,"raise"],[32,null],[1,"not"],[2,null],[26,null],[1,"class"],[1,"lambda"],[1,"print"],[1,"nonlocal"],[25,null],[1,"try"],[1,"exec"],[1,"while"],[3,null],[1,"return"],[1,"assert"],[1,null],[1,"del"],[1,"pass"],[1,"import"],[15,null],[1,"yield"],[1,"global"],[1,"for"],[7,null],[1,"from"],[1,"if"],[9,null],[1,"break"],[1,"continue"],[50,null],[1,"with"],[14,null],[271,null],[1,"and"],[266,null],[316,null],[10,null],[8,null],[333,null],[276,null],[290,null],[27,null],[332,null],[275,null],[19,null],[262,null],[18,null],[260,null],[33,null],[258,null],[283,null],[12,null],[331,null],[280,null],[22,null],[274,null],[48,null],[16,null],[17,null],[24,null],[269,null],[272,null],[1,"else"],[268,null],[11,null],[337,null],[263,null],[257,null],[1,"or"],[259,null],[335,null],[36,null],[261,null],[35,null],[34,null],[273,null],[278,null],[304,null],[46,null],[39,null],[41,null],[47,null],[42,null],[43,null],[37,null],[44,null],[49,null],[45,null],[38,null],[40,null],[330,null],[29,null],[21,null],[28,null],[1,"in"],[30,null],[1,"is"],[31,null],[20,null],[336,null],[307,null],[300,null],[282,null],[339,null],[338,null],[303,null],[286,null],[288,null],[293,null],[277,null],[287,null],[264,null],[1,"as"],[291,null],[23,null],[0,null],[1,"except"],[327,null],[281,null],[285,null],[322,null],[323,null],[341,null],[302,null],[301,null],[319,null],[306,null],[318,null],[305,null],[1,"elif"],[308,null],[309,null],[292,null],[311,null],[310,null],[334,null],[315,null],[313,null],[314,null],[317,null],[326,null],[13,null],[299,null],[267,null],[265,null],[320,null],[270,null],[321,null],[289,null],[297,null],[279,null],[312,null],[325,null],[328,null],[5,null],[6,null],[329,null],[296,null],[1,"finally"],[340,null]],keywords:{and:39,as:118,assert:20,"break":33,"class":10,"continue":34,def:4,del:22,elif:135,"else":68,except:122,exec:16,"finally":164,"for":28,from:30,global:27,"if":31,"import":24,"in":100,is:102,lambda:11,nonlocal:13,not:7,or:74,pass:23,print:12,raise:5,"return":19,"try":15,"while":17,"with":36,"yield":26},tokens:{0:121,1:21,2:8,3:18,4:2,5:160,6:161,7:29,8:43,9:32,10:42,11:70,12:57,13:147,14:37,15:25,16:63,17:64,18:52,19:50,20:104,21:98,22:60,23:120,24:65,25:14,26:9,27:47,28:99,29:97,30:101,31:103,32:6,33:54,34:80,35:79,36:77,37:90,38:94,39:85,40:95,41:86,42:88,43:89,44:91,45:93,46:84,47:87,48:62,49:92,50:35},start:256},f={OpMap:d,ParseTables:e};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=f}),b("pytools/asserts",["require","exports"],function(a,b){"use strict";function c(a,b){if(!a)throw new Error(b)}function d(a){c(!1,a)}b.assert=c,b.fail=d}),b("pytools/base",["require","exports"],function(a,b){"use strict";function c(){}function d(){throw Error("unimplemented abstract method")}function e(a){var b=typeof a;if("object"===b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"===c)return"object";if("[object Array]"===c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"===c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"===b&&"undefined"==typeof a.call)return"object";return b}function f(a){return void 0!==a}function g(a){return null===a}function h(a){return null!=a}function i(a){return"array"===e(a)}function j(a){var b=e(a);return"array"===b||"object"===b&&"number"==typeof a.length}function k(a){return p(a)&&"function"==typeof a.getFullYear}function l(a){return"string"==typeof a}function m(a){return"boolean"==typeof a}function n(a){return"number"==typeof a}function o(a){return"function"===e(a)}function p(a){var b=typeof a;return"object"===b&&null!==a||"function"===b}function q(a){return a.call.apply(a.bind,arguments)}function r(a,b){if(!a)throw new Error;if(arguments.length>2){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),a.apply(b,d)}}return function(){return a.apply(b,arguments)}}function s(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);return c.unshift.apply(c,b),a.apply(this,c)}}function t(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function u(a,b){var c=b||{};for(var d in c)if(c.hasOwnProperty(d)){var e=(""+c[d]).replace(/\$/g,"$$$$");a=a.replace(new RegExp("\\{\\$"+d+"\\}","gi"),e)}return a}function v(a){return a}function w(a,b,c){a[b]=c}function x(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,a.prototype.constructor=a}b.nullFunction=c,b.abstractMethod=d,b.typeOf=e,b.isDef=f,b.isNull=g,b.isDefAndNotNull=h,b.isArray=i,b.isArrayLike=j,b.isDateLike=k,b.isString=l,b.isBoolean=m,b.isNumber=n,b.isFunction=o,b.isObject=p,b.bindNative_=q,b.bindJs_=r,b.partial=s,b.mixin=t,b.getMsg=u,b.getMsgWithFallback=v,b.exportProperty=w,b.inherits=x});var f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b("pytools/TokenError",["require","exports","./asserts","./base"],function(a,b,c,d){"use strict";var e=function(a){function b(b,e,f,g){a.call(this),c.assert(d.isString(b),"message must be a string"),c.assert(d.isString(e),"fileName must be a string"),c.assert(d.isNumber(f),"lineNumber must be a number"),c.assert(d.isNumber(g),"columnNumber must be a number"),this.name="TokenError",this.message=b,this.fileName=e,this.lineNumber=f,this.columnNumber=g}return f(b,a),b}(SyntaxError);Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("pytools/Tokenizer",["require","exports","./asserts","./base","./TokenError","./Tokens"],function(a,b,c,d,e,f){"use strict";function g(){var a=Array.prototype.slice.call(arguments);return"("+a.join("|")+")"}function h(){return g.apply(null,arguments)+"?"}function i(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1}function j(a,b){for(var c=a.length;c>0&&-1!==b.indexOf(a.charAt(c-1));--c);return a.substring(0,c)}function k(a,b,e,f){d.isArray(e)||c.fail("begin must be Array.<number>"),d.isArray(f)||c.fail("end must be Array.<number>");var g=new SyntaxError(a);return g.name="IndentationError",g.fileName=b,d.isDef(e)&&(g.lineNumber=e[0],g.columnNumber=e[1]),g}var l="#[^\\r\\n]*",m="[a-zA-Z_]\\w*",n="0[bB][01]*",o="0[xX][\\da-fA-F]*[lL]?",p="0[oO]?[0-7]*[lL]?",q="[1-9]\\d*[lL]?",r=g(n,o,p,q),s="[eE][-+]?\\d+",t=g("\\d+\\.\\d*","\\.\\d+")+h(s),u="\\d+"+s,v=g(t,u),w=g("\\d+[jJ]",v+"[jJ]"),x=g(w,v,r),y="^[^'\\\\]*(?:\\\\.[^'\\\\]*)*'",z='^[^"\\\\]*(?:\\\\.[^"\\\\]*)*"',A="[^'\\\\]*(?:(?:\\\\.|'(?!''))[^'\\\\]*)*'''",B='[^"\\\\]*(?:(?:\\\\.|"(?!""))[^"\\\\]*)*"""',C=g("[ubUB]?[rR]?'''",'[ubUB]?[rR]?"""'),D=g("\\*\\*=?",">>=?","<<=?","<>","!=","//=?","->","[+\\-*/%&|^=<>]=?","~"),E="[\\][(){}]",F=g("\\r?\\n","[:;.,`@]"),G=g(D,E,F),H=g("[uUbB]?[rR]?'[^\\n'\\\\]*(?:\\\\.[^\\n'\\\\]*)*"+g("'","\\\\\\r?\\n"),'[uUbB]?[rR]?"[^\\n"\\\\]*(?:\\\\.[^\\n"\\\\]*)*'+g('"',"\\\\\\r?\\n")),I=g("\\\\\\r?\\n",l,C),J="^"+g(I,x,G,H,m),K={"'''":!0,'"""':!0,"r'''":!0,'r"""':!0,"R'''":!0,'R"""':!0,"u'''":!0,'u"""':!0,"U'''":!0,'U"""':!0,"b'''":!0,'b"""':!0,"B'''":!0,'B"""':!0,"ur'''":!0,'ur"""':!0,"Ur'''":!0,'Ur"""':!0,"uR'''":!0,'uR"""':!0,"UR'''":!0,'UR"""':!0,"br'''":!0,'br"""':!0,"Br'''":!0,'Br"""':!0,"bR'''":!0,'bR"""':!0,"BR'''":!0,'BR"""':!0},L={"'":!0,'"':!0,"r'":!0,'r"':!0,"R'":!0,'R"':!0,"u'":!0,'u"':!0,"U'":!0,'U"':!0,"b'":!0,'b"':!0,"B'":!0,'B"':!0,"ur'":!0,'ur"':!0,"Ur'":!0,'Ur"':!0,"uR'":!0,'uR"':!0,"UR'":!0,'UR"':!0,"br'":!0,'br"':!0,"Br'":!0,'Br"':!0,"bR'":!0,'bR"':!0,"BR'":!0,'BR"':!0},M=8,N=function(){function a(a,b,e){c.assert(d.isString(a),"fileName must be a string"),this.fileName=a,this.callback=e,this.lnum=0,this.parenlev=0,this.continued=!1,this.namechars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_",this.numchars="0123456789",this.contstr="",this.needcont=!1,this.contline=void 0,this.indents=[0],this.endprog=/.*/,this.strstart=[-1,-1],this.interactive=b,this.doneFunc=function(){for(var a=1;a<this.indents.length;++a)if(this.callback(f["default"].T_DEDENT,"",[this.lnum,0],[this.lnum,0],""))return"done";return this.callback(f["default"].T_ENDMARKER,"",[this.lnum,0],[this.lnum,0],"")?"done":"failed"}}return a.prototype.generateTokens=function(a){var b,c,d,g,h,l=new RegExp(J),m=new RegExp(A,"g"),n=new RegExp(B,"g"),o={"'":new RegExp(y,"g"),'"':new RegExp(z,"g"),"'''":m,'"""':n,"r'''":m,'r"""':n,"u'''":m,'u"""':n,"b'''":m,'b"""':n,"ur'''":m,'ur"""':n,"br'''":m,'br"""':n,"R'''":m,'R"""':n,"U'''":m,'U"""':n,"B'''":m,'B"""':n,"uR'''":m,'uR"""':n,"Ur'''":m,'Ur"""':n,"UR'''":m,'UR"""':n,"bR'''":m,'bR"""':n,"Br'''":m,'Br"""':n,"BR'''":m,'BR"""':n,r:null,R:null,u:null,U:null,b:null,B:null};if(a||(a=""),this.lnum+=1,c=0,h=a.length,this.contstr.length>0){if(!a)throw new e["default"]("EOF in multi-line string",this.fileName,this.strstart[0],this.strstart[1]);if(this.endprog.lastIndex=0,b=this.endprog.test(a),!b)return this.needcont&&"\\\n"!==a.substring(a.length-2)&&"\\\r\n"!==a.substring(a.length-3)?this.callback(f["default"].T_ERRORTOKEN,this.contstr+a,this.strstart,[this.lnum,a.length],this.contline)?"done":(this.contstr="",this.contline=void 0,!1):(this.contstr+=a,this.contline=this.contline+a,!1);if(c=g=this.endprog.lastIndex,this.callback(f["default"].T_STRING,this.contstr+a.substring(0,g),this.strstart,[this.lnum,g],this.contline+a))return"done";this.contstr="",this.needcont=!1,this.contline=void 0}else if(0!==this.parenlev||this.continued){if(!a)throw new e["default"]("EOF in multi-line statement",this.fileName,this.lnum,0);this.continued=!1}else{if(!a)return this.doneFunc();for(d=0;h>c;){if(" "===a.charAt(c))d+=1;else if("	"===a.charAt(c))d=(d/M+1)*M;else{if("\f"!==a.charAt(c))break;d=0}c+=1}if(c===h)return this.doneFunc();if(-1!=="#\r\n".indexOf(a.charAt(c))){if("#"===a.charAt(c)){var p=j(a.substring(c),"\r\n"),q=c+p.length;return this.callback(f["default"].T_COMMENT,p,[this.lnum,c],[this.lnum,c+p.length],a)?"done":this.callback(f["default"].T_NL,a.substring(q),[this.lnum,q],[this.lnum,a.length],a)?"done":!1}if(this.callback(f["default"].T_NL,a.substring(c),[this.lnum,c],[this.lnum,a.length],a))return"done";if(!this.interactive)return!1}if(d>this.indents[this.indents.length-1]&&(this.indents.push(d),this.callback(f["default"].T_INDENT,a.substring(0,c),[this.lnum,0],[this.lnum,c],a)))return"done";for(;d<this.indents[this.indents.length-1];){if(!i(this.indents,d))throw k("unindent does not match any outer indentation level",this.fileName,[this.lnum,0],[this.lnum,c],a);if(this.indents.splice(this.indents.length-1,1),this.callback(f["default"].T_DEDENT,"",[this.lnum,c],[this.lnum,c],a))return"done"}}for(;h>c;){for(var r=a.charAt(c);" "===r||"\f"===r||"	"===r;)c+=1,r=a.charAt(c);l.lastIndex=0;var s=l.exec(a.substring(c));if(s){var t=c;g=t+s[1].length;var u=[this.lnum,t],v=[this.lnum,g];c=g;var w=a.substring(t,g),x=a.charAt(t);if(-1!==this.numchars.indexOf(x)||"."===x&&"."!==w){
if(this.callback(f["default"].T_NUMBER,w,u,v,a))return"done"}else if("\r"===x||"\n"===x){var C=f["default"].T_NEWLINE;if(this.parenlev>0&&(C=f["default"].T_NL),this.callback(C,w,u,v,a))return"done"}else if("#"===x){if(this.callback(f["default"].T_COMMENT,w,u,v,a))return"done"}else if(K.hasOwnProperty(w)){if(this.endprog=o[w],this.endprog.lastIndex=0,b=this.endprog.test(a.substring(c)),!b)return this.strstart=[this.lnum,t],this.contstr=a.substring(t),this.contline=a,!1;if(c=this.endprog.lastIndex+c,w=a.substring(t,c),this.callback(f["default"].T_STRING,w,u,[this.lnum,c],a))return"done"}else if(L.hasOwnProperty(x)||L.hasOwnProperty(w.substring(0,2))||L.hasOwnProperty(w.substring(0,3))){if("\n"===w[w.length-1])return this.strstart=[this.lnum,t],this.endprog=o[x]||o[w[1]]||o[w[2]],this.contstr=a.substring(t),this.needcont=!0,this.contline=a,!1;if(this.callback(f["default"].T_STRING,w,u,v,a))return"done"}else if(-1!==this.namechars.indexOf(x)){if(this.callback(f["default"].T_NAME,w,u,v,a))return"done"}else if("\\"===x){if(this.callback(f["default"].T_NL,w,u,[this.lnum,c],a))return"done";this.continued=!0}else if(-1!=="([{".indexOf(x)?this.parenlev+=1:-1!==")]}".indexOf(x)&&(this.parenlev-=1),this.callback(f["default"].T_OP,w,u,v,a))return"done"}else{if(this.callback(f["default"].T_ERRORTOKEN,a.charAt(c),[this.lnum,c],[this.lnum,c+1],a))return"done";c+=1}}return!1},a.Tokens=f["default"],a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=N}),b("pytools/tokenNames",["require","exports"],function(a,b){"use strict";var c={0:"T_ENDMARKER",1:"T_NAME",2:"T_NUMBER",3:"T_STRING",4:"T_NEWLINE",5:"T_INDENT",6:"T_DEDENT",7:"T_LPAR",8:"T_RPAR",9:"T_LSQB",10:"T_RSQB",11:"T_COLON",12:"T_COMMA",13:"T_SEMI",14:"T_PLUS",15:"T_MINUS",16:"T_STAR",17:"T_SLASH",18:"T_VBAR",19:"T_AMPER",20:"T_LESS",21:"T_GREATER",22:"T_EQUAL",23:"T_DOT",24:"T_PERCENT",25:"T_BACKQUOTE",26:"T_LBRACE",27:"T_RBRACE",28:"T_EQEQUAL",29:"T_NOTEQUAL",30:"T_LESSEQUAL",31:"T_GREATEREQUAL",32:"T_TILDE",33:"T_CIRCUMFLEX",34:"T_LEFTSHIFT",35:"T_RIGHTSHIFT",36:"T_DOUBLESTAR",37:"T_PLUSEQUAL",38:"T_MINEQUAL",39:"T_STAREQUAL",40:"T_SLASHEQUAL",41:"T_PERCENTEQUAL",42:"T_AMPEREQUAL",43:"T_VBAREQUAL",44:"T_CIRCUMFLEXEQUAL",45:"T_LEFTSHIFTEQUAL",46:"T_RIGHTSHIFTEQUAL",47:"T_DOUBLESTAREQUAL",48:"T_DOUBLESLASH",49:"T_DOUBLESLASHEQUAL",50:"T_AT",51:"T_OP",52:"T_COMMENT",53:"T_NL",54:"T_RARROW",55:"T_ERRORTOKEN",56:"T_N_TOKENS",256:"T_NT_OFFSET"};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("pytools/parser",["require","exports","./tables","./asserts","./base","./Tokenizer","./Tokens","./tokenNames"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b,c){var d=new SyntaxError(a);return d.name="ParseError",d.fileName=b,e.isDef(c)&&(d.lineNumber=c[0],d.columnNumber=c[1]),d}function j(a,b){for(var c=a.length;c--;)if(a[c][0]===b[0]&&a[c][1]===b[1])return!0;return!1}function k(a,b){void 0===b&&(b="file_input");var c=new p(a,o);"file_input"===b?c.setup(o.sym.file_input):d.fail("TODO");var e=1,h=0,j="",k=g["default"].T_COMMENT,l=g["default"].T_NL,m=g["default"].T_OP,q=new f["default"](a,"single_input"===b,function(a,b,d,f,g){return a===k||a===l?(j+=b,e=f[0],h=f[1],void("\n"===b[b.length-1]&&(e+=1,h=0))):(a===m&&(a=n[b]),c.addtoken(a,b,[d,f,g])?!0:void 0)});return function(a){var b=q.generateTokens(a);if(b){if("done"!==b)throw i("incomplete input",this.filename);return c.rootnode}return!1}}function l(a,b){var c=k(a);"\n"!==b.substr(b.length-1,1)&&(b+="\n");for(var d,e=b.split("\n"),f=0;f<e.length;++f)d=c(e[f]+(f===e.length-1?"":"\n"));return d}function m(a){var b="";if(a.type>=256){b+=o.number2symbol[a.type]+"\n";for(var c=0;c<a.children.length;++c)b+=m(a.children[c])}else b+=h["default"][a.type]+": "+a.value+"\n";return b}var n=c["default"].OpMap,o=c["default"].ParseTables,p=function(){function a(a,b){return this.filename=a,this.grammar=b,this}return a.prototype.setup=function(a){a=a||this.grammar.start;var b={type:a,value:null,context:null,children:[]},c={dfa:this.grammar.dfas[a],state:0,node:b};this.stack=[c],this.used_names={}},a.prototype.addtoken=function(a,b,c){var e=this.classify(a,b,c);a:for(;;){for(var f=this.stack[this.stack.length-1],g=f.dfa[0],h=f.dfa[1],k=g[f.state],l=0;l<k.length;++l){var m=k[l][0],n=k[l][1],o=this.grammar.labels[m][0];if(e===m){d.assert(256>o),this.shift(a,b,n,c);for(var p=n;1===g[p].length&&0===g[p][0][0]&&g[p][0][1]===p;){if(this.pop(),0===this.stack.length)return!0;f=this.stack[this.stack.length-1],p=f.state,g=f.dfa[0],h=f.dfa[1]}return!1}if(o>=256){var q=this.grammar.dfas[o],r=q[1];if(r.hasOwnProperty(e)){this.push(o,this.grammar.dfas[o],n,c);continue a}}}if(!j(k,[0,f.state]))throw i("bad input",this.filename,c[0],c[1]);if(this.pop(),0===this.stack.length)throw i("too much input",this.filename)}},a.prototype.classify=function(a,b,c){var d;if(a===g["default"].T_NAME&&(this.used_names[b]=!0,d=this.grammar.keywords.hasOwnProperty(b)&&this.grammar.keywords[b]))return d;if(d=this.grammar.tokens.hasOwnProperty(a)&&this.grammar.tokens[a],!d)throw i("bad token",this.filename,c[0],c[1]);return d},a.prototype.shift=function(a,b,c,d){var e=this.stack[this.stack.length-1].dfa,f=this.stack[this.stack.length-1].node,g={type:a,value:b,lineno:d[0][0],col_offset:d[0][1],children:null};g&&f.children.push(g),this.stack[this.stack.length-1]={dfa:e,state:c,node:f}},a.prototype.push=function(a,b,c,d){var e=this.stack[this.stack.length-1].dfa,f=this.stack[this.stack.length-1].node;this.stack[this.stack.length-1]={dfa:e,state:c,node:f};var g={type:a,value:null,lineno:d[0][0],col_offset:d[0][1],children:[]};this.stack.push({dfa:b,state:0,node:g})},a.prototype.pop=function(){var a=this.stack.pop(),b=a.node;if(b)if(0!==this.stack.length){var c=this.stack[this.stack.length-1].node;c.children.push(b)}else this.rootnode=b,this.rootnode.used_names=this.used_names},a}();b.parse=l,b.parseTreeDump=m});var f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b("pytools/types",["require","exports"],function(a,b){"use strict";var c=function(){function a(){}return a}();b.Load=c;var d=function(){function a(){}return a}();b.Store=d;var e=function(){function a(){}return a}();b.Del=e;var g=function(){function a(){}return a}();b.AugLoad=g;var h=function(){function a(){}return a}();b.AugStore=h;var i=function(){function a(){}return a}();b.Param=i;var j=function(){function a(){}return a}();b.And=j;var k=function(){function a(){}return a}();b.Or=k;var l=function(){function a(){}return a}();b.Add=l;var m=function(){function a(){}return a}();b.Sub=m;var n=function(){function a(){}return a}();b.Mult=n;var o=function(){function a(){}return a}();b.Div=o;var p=function(){function a(){}return a}();b.Mod=p;var q=function(){function a(){}return a}();b.Pow=q;var r=function(){function a(){}return a}();b.LShift=r;var s=function(){function a(){}return a}();b.RShift=s;var t=function(){function a(){}return a}();b.BitOr=t;var u=function(){function a(){}return a}();b.BitXor=u;var v=function(){function a(){}return a}();b.BitAnd=v;var w=function(){function a(){}return a}();b.FloorDiv=w;var x=function(){function a(){}return a}();b.Invert=x;var y=function(){function a(){}return a}();b.Not=y;var z=function(){function a(){}return a}();b.UAdd=z;var A=function(){function a(){}return a}();b.USub=A;var B=function(){function a(){}return a}();b.Eq=B;var C=function(){function a(){}return a}();b.NotEq=C;var D=function(){function a(){}return a}();b.Lt=D;var E=function(){function a(){}return a}();b.LtE=E;var F=function(){function a(){}return a}();b.Gt=F;var G=function(){function a(){}return a}();b.GtE=G;var H=function(){function a(){}return a}();b.Is=H;var I=function(){function a(){}return a}();b.IsNot=I;var J=function(){function a(){}return a}();b.In=J;var K=function(){function a(){}return a}();b.NotIn=K;var L=function(){function a(){this.minChar=-1,this.limChar=-1}return a}();b.ASTSpan=L;var M=function(a){function b(){a.apply(this,arguments)}return f(b,a),b}(L);b.AST=M;var N=function(a){function b(){a.apply(this,arguments)}return f(b,a),b}(M);b.ModuleElement=N;var O=function(a){function b(){a.apply(this,arguments)}return f(b,a),b}(N);b.Statement=O;var P=function(a){function b(){a.apply(this,arguments)}return f(b,a),b}(O);b.IterationStatement=P;var Q=function(){function a(a){this.body=a}return a}();b.Module=Q;var R=function(){function a(a){this.body=a}return a}();b.Interactive=R;var S=function(a){function b(b){a.call(this),this.body=b}return f(b,a),b}(O);b.Expression=S;var T=function(a){function b(){a.apply(this,arguments)}return f(b,a),b}(S);b.UnaryExpression=T;var U=function(){function a(a){this.body=a}return a}();b.Suite=U;var V=function(a){function b(b,c,d,e,f,g){a.call(this),this.name=b,this.args=c,this.body=d,this.decorator_list=e,this.lineno=f,this.col_offset=g}return f(b,a),b}(O);b.FunctionDef=V;var W=function(a){function b(b,c,d,e,f,g){a.call(this),this.name=b,this.bases=c,this.body=d,this.decorator_list=e,this.lineno=f,this.col_offset=g}return f(b,a),b}(O);b.ClassDef=W;var X=function(a){function b(b,c,d){a.call(this),this.value=b,this.lineno=c,this.col_offset=d}return f(b,a),b}(O);b.ReturnStatement=X;var Y=function(a){function b(b,c,d){a.call(this,b),this.targets=b,this.lineno=c,this.col_offset=d}return f(b,a),b}(T);b.DeleteExpression=Y;var Z=function(a){function b(b,c,d,e){a.call(this),this.targets=b,this.value=c,this.lineno=d,this.col_offset=e}return f(b,a),b}(O);b.Assign=Z;var $=function(a){function b(b,c,d,e,f){a.call(this),this.target=b,this.op=c,this.value=d,this.lineno=e,this.col_offset=f}return f(b,a),b}(O);b.AugAssign=$;var _=function(a){function b(b,c,d,e,f){a.call(this),this.dest=b,this.values=c,this.nl=d,this.lineno=e,this.col_offset=f}return f(b,a),b}(O);b.Print=_;var aa=function(a){function b(b,c,d,e,f,g){a.call(this),this.target=b,this.iter=c,this.body=d,this.orelse=e,this.lineno=f,this.col_offset=g}return f(b,a),b}(P);b.ForStatement=aa;var ba=function(a){function b(b,c,d,e,f){a.call(this),this.test=b,this.body=c,this.orelse=d,this.lineno=e,this.col_offset=f}return f(b,a),b}(P);b.WhileStatement=ba;var ca=function(a){function b(b,c,d,e,f){a.call(this),this.test=b,this.body=c,this.orelse=d,this.lineno=e,this.col_offset=f}return f(b,a),b}(O);b.IfStatement=ca;var da=function(a){function b(b,c,d,e,f){a.call(this),this.context_expr=b,this.optional_vars=c,this.body=d,this.lineno=e,this.col_offset=f}return f(b,a),b}(O);b.WithStatement=da;var ea=function(a){function b(b,c,d,e,f){a.call(this),this.type=b,this.inst=c,this.tback=d,this.lineno=e,this.col_offset=f}return f(b,a),b}(O);b.Raise=ea;var fa=function(a){function b(b,c,d,e,f){a.call(this),this.body=b,this.handlers=c,this.orelse=d,this.lineno=e,this.col_offset=f}return f(b,a),b}(O);b.TryExcept=fa;var ga=function(a){function b(b,c,d,e){a.call(this),this.body=b,this.finalbody=c,this.lineno=d,this.col_offset=e}return f(b,a),b}(O);b.TryFinally=ga;var ha=function(a){function b(b,c,d,e){a.call(this),this.test=b,this.msg=c,this.lineno=d,this.col_offset=e}return f(b,a),b}(O);b.Assert=ha;var ia=function(a){function b(b,c,d){a.call(this),this.names=b,this.lineno=c,this.col_offset=d}return f(b,a),b}(O);b.ImportStatement=ia;var ja=function(a){function b(b,c,d,e,f){a.call(this),this.module=b,this.names=c,this.level=d,this.lineno=e,this.col_offset=f}return f(b,a),b}(O);b.ImportFrom=ja;var ka=function(){function a(a,b,c,d,e){this.body=a,this.globals=b,this.locals=c,this.lineno=d,this.col_offset=e}return a}();b.Exec=ka;var la=function(){function a(a,b,c){this.names=a,this.lineno=b,this.col_offset=c}return a}();b.Global=la;var ma=function(){function a(a,b,c){this.names=a,this.lineno=b,this.col_offset=c}return a}();b.NonLocal=ma;var na=function(a){function b(b,c,d){a.call(this),this.value=b,this.lineno=c,this.col_offset=d}return f(b,a),b}(O);b.Expr=na;var oa=function(){function a(a,b){this.lineno=a,this.col_offset=b}return a}();b.Pass=oa;var pa=function(a){function b(b,c){a.call(this),this.lineno=b,this.col_offset=c}return f(b,a),b}(O);b.BreakStatement=pa;var qa=function(a){function b(b,c){a.call(this),this.lineno=b,this.col_offset=c}return f(b,a),b}(O);b.ContinueStatement=qa;var ra=function(){function a(a,b,c,d){this.op=a,this.values=b,this.lineno=c,this.col_offset=d}return a}();b.BoolOp=ra;var sa=function(){function a(a,b,c,d,e){this.left=a,this.op=b,this.right=c,this.lineno=d,this.col_offset=e}return a}();b.BinOp=sa;var ta=function(){function a(a,b,c,d){this.op=a,this.operand=b,this.lineno=c,this.col_offset=d}return a}();b.UnaryOp=ta;var ua=function(){function a(a,b,c,d){this.args=a,this.body=b,this.lineno=c,this.col_offset=d}return a}();b.Lambda=ua;var va=function(){function a(a,b,c,d,e){this.test=a,this.body=b,this.orelse=c,this.lineno=d,this.col_offset=e}return a}();b.IfExp=va;var wa=function(){function a(a,b,c,d){this.keys=a,this.values=b,this.lineno=c,this.col_offset=d}return a}();b.Dict=wa;var xa=function(){function a(a,b,c,d){this.elt=a,this.generators=b,this.lineno=c,this.col_offset=d}return a}();b.ListComp=xa;var ya=function(){function a(a,b,c,d){this.elt=a,this.generators=b,this.lineno=c,this.col_offset=d}return a}();b.GeneratorExp=ya;var za=function(){function a(a,b,c){this.value=a,this.lineno=b,this.col_offset=c}return a}();b.Yield=za;var Aa=function(){function a(a,b,c,d,e){this.left=a,this.ops=b,this.comparators=c,this.lineno=d,this.col_offset=e}return a}();b.Compare=Aa;var Ba=function(){function a(a,b,c,d,e,f,g){this.func=a,this.args=b,this.keywords=c,this.starargs=d,this.kwargs=e,this.lineno=f,this.col_offset=g}return a}();b.Call=Ba;var Ca=function(){function a(a,b,c){this.n=a,this.lineno=b,this.col_offset=c}return a}();b.Num=Ca;var Da=function(){function a(a,b,c){this.s=a,this.lineno=b,this.col_offset=c}return a}();b.Str=Da;var Ea=function(){function a(a,b,c,d,e){this.value=a,this.attr=b,this.ctx=c,this.lineno=d,this.col_offset=e}return a}();b.Attribute=Ea;var Fa=function(){function a(a,b,c,d,e){this.value=a,this.slice=b,this.ctx=c,this.lineno=d,this.col_offset=e}return a}();b.Subscript=Fa;var Ga=function(){function a(a,b,c,d){this.id=a,this.ctx=b,this.lineno=c,this.col_offset=d}return a}();b.Name=Ga;var Ha=function(){function a(a,b,c,d){this.elts=a,this.ctx=b,this.lineno=c,this.col_offset=d}return a}();b.List=Ha;var Ia=function(){function a(a,b,c,d){this.elts=a,this.ctx=b,this.lineno=c,this.col_offset=d}return a}();b.Tuple=Ia;var Ja=function(){function a(){}return a}();b.Ellipsis=Ja;var Ka=function(){function a(a,b,c){this.lower=a,this.upper=b,this.step=c}return a}();b.Slice=Ka;var La=function(){function a(a){this.dims=a}return a}();b.ExtSlice=La;var Ma=function(){function a(a){this.value=a}return a}();b.Index=Ma;var Na=function(){function a(a,b,c){this.target=a,this.iter=b,this.ifs=c}return a}();b.Comprehension=Na;var Oa=function(){function a(a,b,c,d,e){this.type=a,this.name=b,this.body=c,this.lineno=d,this.col_offset=e}return a}();b.ExceptHandler=Oa;var Pa=function(){function a(a,b,c,d){this.args=a,this.vararg=b,this.kwarg=c,this.defaults=d}return a}();b.Arguments=Pa;var Qa=function(){function a(a,b){this.arg=a,this.value=b}return a}();b.Keyword=Qa;var Ra=function(){function a(a,b){this.name=a,this.asname=b}return a}();b.Alias=Ra,Q.prototype._astname="Module",Q.prototype._fields=["body",function(a){return a.body}],R.prototype._astname="Interactive",R.prototype._fields=["body",function(a){return a.body}],S.prototype._astname="Expression",S.prototype._fields=["body",function(a){return a.body}],U.prototype._astname="Suite",U.prototype._fields=["body",function(a){return a.body}],V.prototype._astname="FunctionDef",V.prototype._fields=["name",function(a){return a.name},"args",function(a){return a.args},"body",function(a){return a.body},"decorator_list",function(a){return a.decorator_list}],W.prototype._astname="ClassDef",W.prototype._fields=["name",function(a){return a.name},"bases",function(a){return a.bases},"body",function(a){return a.body},"decorator_list",function(a){return a.decorator_list}],X.prototype._astname="ReturnStatement",X.prototype._fields=["value",function(a){return a.value}],Y.prototype._astname="Delete",Y.prototype._fields=["targets",function(a){return a.targets}],Z.prototype._astname="Assign",Z.prototype._fields=["targets",function(a){return a.targets},"value",function(a){return a.value}],$.prototype._astname="AugAssign",$.prototype._fields=["target",function(a){return a.target},"op",function(a){return a.op},"value",function(a){return a.value}],_.prototype._astname="Print",_.prototype._fields=["dest",function(a){return a.dest},"values",function(a){return a.values},"nl",function(a){return a.nl}],aa.prototype._astname="ForStatement",aa.prototype._fields=["target",function(a){return a.target},"iter",function(a){return a.iter},"body",function(a){return a.body},"orelse",function(a){return a.orelse}],ba.prototype._astname="WhileStatement",ba.prototype._fields=["test",function(a){return a.test},"body",function(a){return a.body},"orelse",function(a){return a.orelse}],ca.prototype._astname="IfStatement",ca.prototype._fields=["test",function(a){return a.test},"body",function(a){return a.body},"orelse",function(a){return a.orelse}],da.prototype._astname="WithStatement",da.prototype._fields=["context_expr",function(a){return a.context_expr},"optional_vars",function(a){return a.optional_vars},"body",function(a){return a.body}],ea.prototype._astname="Raise",ea.prototype._fields=["type",function(a){return a.type},"inst",function(a){return a.inst},"tback",function(a){return a.tback}],fa.prototype._astname="TryExcept",fa.prototype._fields=["body",function(a){return a.body},"handlers",function(a){return a.handlers},"orelse",function(a){return a.orelse}],ga.prototype._astname="TryFinally",ga.prototype._fields=["body",function(a){return a.body},"finalbody",function(a){return a.finalbody}],ha.prototype._astname="Assert",ha.prototype._fields=["test",function(a){return a.test},"msg",function(a){return a.msg}],ia.prototype._astname="Import",ia.prototype._fields=["names",function(a){return a.names}],ja.prototype._astname="ImportFrom",ja.prototype._fields=["module",function(a){return a.module},"names",function(a){return a.names},"level",function(a){return a.level}],ka.prototype._astname="Exec",ka.prototype._fields=["body",function(a){return a.body},"globals",function(a){return a.globals},"locals",function(a){return a.locals}],la.prototype._astname="Global",la.prototype._fields=["names",function(a){return a.names}],ma.prototype._astname="NonLocal",ma.prototype._fields=["names",function(a){return a.names}],na.prototype._astname="Expr",na.prototype._fields=["value",function(a){return a.value}],oa.prototype._astname="Pass",oa.prototype._fields=[],pa.prototype._astname="BreakStatement",pa.prototype._fields=[],qa.prototype._astname="ContinueStatement",qa.prototype._fields=[],ra.prototype._astname="BoolOp",ra.prototype._fields=["op",function(a){return a.op},"values",function(a){return a.values}],sa.prototype._astname="BinOp",sa.prototype._fields=["left",function(a){return a.left},"op",function(a){return a.op},"right",function(a){return a.right}],ta.prototype._astname="UnaryOp",ta.prototype._fields=["op",function(a){return a.op},"operand",function(a){return a.operand}],ua.prototype._astname="Lambda",ua.prototype._fields=["args",function(a){return a.args},"body",function(a){return a.body}],va.prototype._astname="IfExp",va.prototype._fields=["test",function(a){return a.test},"body",function(a){return a.body},"orelse",function(a){return a.orelse}],wa.prototype._astname="Dict",wa.prototype._fields=["keys",function(a){return a.keys},"values",function(a){return a.values}],xa.prototype._astname="ListComp",xa.prototype._fields=["elt",function(a){return a.elt},"generators",function(a){return a.generators}],ya.prototype._astname="GeneratorExp",ya.prototype._fields=["elt",function(a){return a.elt},"generators",function(a){return a.generators}],za.prototype._astname="Yield",za.prototype._fields=["value",function(a){return a.value}],Aa.prototype._astname="Compare",Aa.prototype._fields=["left",function(a){return a.left},"ops",function(a){return a.ops},"comparators",function(a){return a.comparators}],Ba.prototype._astname="Call",Ba.prototype._fields=["func",function(a){return a.func},"args",function(a){return a.args},"keywords",function(a){return a.keywords},"starargs",function(a){return a.starargs},"kwargs",function(a){return a.kwargs}],Ca.prototype._astname="Num",Ca.prototype._fields=["n",function(a){return a.n}],Da.prototype._astname="Str",Da.prototype._fields=["s",function(a){return a.s}],Ea.prototype._astname="Attribute",Ea.prototype._fields=["value",function(a){return a.value},"attr",function(a){return a.attr},"ctx",function(a){return a.ctx}],Fa.prototype._astname="Subscript",Fa.prototype._fields=["value",function(a){return a.value},"slice",function(a){return a.slice},"ctx",function(a){return a.ctx}],Ga.prototype._astname="Name",Ga.prototype._fields=["id",function(a){return a.id},"ctx",function(a){return a.ctx}],Ha.prototype._astname="List",Ha.prototype._fields=["elts",function(a){return a.elts},"ctx",function(a){return a.ctx}],Ia.prototype._astname="Tuple",Ia.prototype._fields=["elts",function(a){return a.elts},"ctx",function(a){return a.ctx}],c.prototype._astname="Load",c.prototype._isenum=!0,d.prototype._astname="Store",d.prototype._isenum=!0,e.prototype._astname="Del",e.prototype._isenum=!0,g.prototype._astname="AugLoad",g.prototype._isenum=!0,h.prototype._astname="AugStore",h.prototype._isenum=!0,i.prototype._astname="Param",i.prototype._isenum=!0,Ja.prototype._astname="Ellipsis",Ja.prototype._fields=[],Ka.prototype._astname="Slice",Ka.prototype._fields=["lower",function(a){return a.lower},"upper",function(a){return a.upper},"step",function(a){return a.step}],La.prototype._astname="ExtSlice",La.prototype._fields=["dims",function(a){return a.dims}],Ma.prototype._astname="Index",Ma.prototype._fields=["value",function(a){return a.value}],j.prototype._astname="And",j.prototype._isenum=!0,k.prototype._astname="Or",k.prototype._isenum=!0,l.prototype._astname="Add",l.prototype._isenum=!0,m.prototype._astname="Sub",m.prototype._isenum=!0,n.prototype._astname="Mult",n.prototype._isenum=!0,o.prototype._astname="Div",o.prototype._isenum=!0,p.prototype._astname="Mod",p.prototype._isenum=!0,q.prototype._astname="Pow",q.prototype._isenum=!0,r.prototype._astname="LShift",r.prototype._isenum=!0,s.prototype._astname="RShift",s.prototype._isenum=!0,t.prototype._astname="BitOr",t.prototype._isenum=!0,u.prototype._astname="BitXor",u.prototype._isenum=!0,v.prototype._astname="BitAnd",v.prototype._isenum=!0,w.prototype._astname="FloorDiv",w.prototype._isenum=!0,x.prototype._astname="Invert",x.prototype._isenum=!0,y.prototype._astname="Not",y.prototype._isenum=!0,z.prototype._astname="UAdd",z.prototype._isenum=!0,A.prototype._astname="USub",A.prototype._isenum=!0,B.prototype._astname="Eq",B.prototype._isenum=!0,C.prototype._astname="NotEq",C.prototype._isenum=!0,D.prototype._astname="Lt",D.prototype._isenum=!0,E.prototype._astname="LtE",E.prototype._isenum=!0,F.prototype._astname="Gt",F.prototype._isenum=!0,G.prototype._astname="GtE",G.prototype._isenum=!0,H.prototype._astname="Is",H.prototype._isenum=!0,I.prototype._astname="IsNot",I.prototype._isenum=!0,J.prototype._astname="In",J.prototype._isenum=!0,K.prototype._astname="NotIn",K.prototype._isenum=!0,Na.prototype._astname="Comprehension",Na.prototype._fields=["target",function(a){return a.target},"iter",function(a){return a.iter},"ifs",function(a){return a.ifs}],Oa.prototype._astname="ExceptHandler",Oa.prototype._fields=["type",function(a){return a.type},"name",function(a){return a.name},"body",function(a){return a.body}],Pa.prototype._astname="Arguments",Pa.prototype._fields=["args",function(a){return a.args},"vararg",function(a){return a.vararg},"kwarg",function(a){return a.kwarg},"defaults",function(a){return a.defaults}],Qa.prototype._astname="Keyword",Qa.prototype._fields=["arg",function(a){return a.arg},"value",function(a){return a.value}],Ra.prototype._astname="Alias",Ra.prototype._fields=["name",function(a){return a.name},"asname",function(a){return a.asname}]}),b("pytools/numericLiteral",["require","exports"],function(a,b){"use strict";function c(a){var b={text:a,value:parseFloat(a),isFloat:function(){return!0},isInt:function(){return!1},isLong:function(){return!1},toString:function(){return a}};return b}function d(a){var b={value:a,isFloat:function(){return!1},isInt:function(){return!0},isLong:function(){return!1},toString:function(){return""+a}};return b}function e(a,b){var c={text:a,radix:b,isFloat:function(){return!1},isInt:function(){return!1},isLong:function(){return!0},toString:function(){return a}};return c}b.floatAST=c,b.intAST=d,b.longAST=e}),b("pytools/builder",["require","exports","./asserts","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./base","./tables","./Tokens","./numericLiteral"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma){"use strict";function Na(a,b,d){c.assert(Ja.isString(a),"message must be a string"),c.assert(Ja.isString(b),"fileName must be a string"),c.assert(Ja.isNumber(d),"lineNumber must be a number");var e=new SyntaxError(a);return e.fileName=b,e.lineNumber=d,e}function Oa(a,b){this.c_encoding=a,this.c_filename=b}function Pa(a){return c.assert(void 0!==a),null===a.children?0:a.children.length}function Qa(a,b){return c.assert(void 0!==a),c.assert(void 0!==b),a.children[b]}function Ra(a,b){c.assert(a.type===b,"node wasn't expected type")}function Sa(a){return c.assert("string"==typeof a,"expecting string, got "+typeof a),a}function Ta(a){switch(a.type){case Vb.single_input:return Qa(a,0).type===Wb.T_NEWLINE?0:Ta(Qa(a,0));case Vb.file_input:for(var b=0,d=0;d<Pa(a);++d){var e=Qa(a,d);e.type===Vb.stmt&&(b+=Ta(e))}return b;case Vb.stmt:return Ta(Qa(a,0));case Vb.compound_stmt:return 1;case Vb.simple_stmt:return Math.floor(Pa(a)/2);case Vb.suite:if(1===Pa(a))return Ta(Qa(a,0));for(var b=0,d=2;d<Pa(a)-1;++d)b+=Ta(Qa(a,d));return b;default:c.fail("Non-statement found")}return 0}function Ua(a,b,c,d){if("None"===c)throw Na("assignment to None",a.c_filename,d);if("True"===c||"False"===c)throw Na("assignment to True or False is forbidden",a.c_filename,d)}function Va(a,b,d,e){c.assert(d!==m.AugStore&&d!==l.AugLoad);var f=null,g=null;switch(b.constructor){case j.Attribute:case ha.Name:d===wa.Store&&Ua(a,e,b.attr,e.lineno),b.ctx=d;break;case za.Subscript:b.ctx=d;break;case $.List:b.ctx=d,f=b.elts;break;case Ca.Tuple:if(0===b.elts.length)throw Na("can't assign to ()",a.c_filename,e.lineno);b.ctx=d,f=b.elts;break;case Z.Lambda:g="lambda";break;case t.Call:g="function call";break;case r.BoolOp:case n.BinOp:case Ea.UnaryOp:g="operator";break;case L.GeneratorExp:g="generator expression";break;case Ia.Yield:g="yield expression";break;case _.ListComp:g="list comprehension";break;case A.Dict:case ma.Num:case xa.Str:g="literal";break;case v.Compare:g="comparison expression";break;case R.IfExp:g="conditional expression";break;default:c.fail("unhandled expression in assignment")}if(g)throw Na("can't "+(d===wa.Store?"assign to":"delete")+" "+g,a.c_filename,e.lineno);if(f)for(var h=0;h<f.length;++h)Va(a,f[h],d,e)}function Wa(a){return c.assert(void 0!==Yb[a.type]),Yb[a.type]}function Xa(a,b){if(Ra(b,Vb.comp_op),1===Pa(b))switch(b=Qa(b,0),b.type){case Wb.T_LESS:return ca.Lt;case Wb.T_GREATER:return N.Gt;case Wb.T_EQEQUAL:return D.Eq;case Wb.T_LESSEQUAL:return da.LtE;case Wb.T_GREATEREQUAL:return O.GtE;case Wb.T_NOTEQUAL:return ka.NotEq;case Wb.T_NAME:if("in"===b.value)return V.In;if("is"===b.value)return X.Is}else if(2===Pa(b)&&Qa(b,0).type===Wb.T_NAME){if("in"===Qa(b,1).value)return la.NotIn;if("is"===Qa(b,0).value)return Y.IsNot}c.fail("invalid comp_op")}function Ya(a,b){c.assert(b.type===Vb.testlist||b.type===Vb.listmaker||b.type===Vb.testlist_gexp||b.type===Vb.testlist_safe||b.type===Vb.testlist1);for(var d=[],e=0;e<Pa(b);e+=2)c.assert(Qa(b,e).type===Vb.IfExpr||Qa(b,e).type===Vb.old_test),d[e/2]=Pb(a,Qa(b,e));return d}function Za(a,b){Ra(b,Vb.suite);var d,e=[],f=0;if(Qa(b,0).type===Vb.simple_stmt){b=Qa(b,0);var g=Pa(b)-1;Qa(b,g-1).type===Wb.T_SEMI&&(g-=1);for(var h=0;g>h;h+=2)e[f++]=Rb(a,Qa(b,h))}else for(var h=2;h<Pa(b)-1;++h){d=Qa(b,h),Ra(d,Vb.stmt);var i=Ta(d);if(1===i)e[f++]=Rb(a,d);else{d=Qa(d,0),Ra(d,Vb.simple_stmt);for(var j=0;j<Pa(d);j+=2){if(0===Pa(Qa(d,j))){c.assert(j+1===Pa(d));break}e[f++]=Rb(a,Qa(d,j))}}}return c.assert(f===Ta(b)),e}function $a(a,b,d){if(Ra(b,Vb.except_clause),Ra(d,Vb.suite),1===Pa(b))return new E.ExceptHandler(null,null,Za(a,d),b.lineno,b.col_offset);if(2===Pa(b))return new E.ExceptHandler(Pb(a,Qa(b,1)),null,Za(a,d),b.lineno,b.col_offset);if(4===Pa(b)){var e=Pb(a,Qa(b,3));return Va(a,e,wa.Store,Qa(b,3)),new E.ExceptHandler(Pb(a,Qa(b,1)),e,Za(a,d),b.lineno,b.col_offset)}c.fail("wrong number of children for except clause")}function _a(a,b){var d,e=Pa(b),f=(e-3)/3,g=[],h=null;if(Ra(b,Vb.try_stmt),d=Za(a,Qa(b,2)),Qa(b,e-3).type===Wb.T_NAME)"finally"===Qa(b,e-3).value?(e>=9&&Qa(b,e-6).type===Wb.T_NAME&&(g=Za(a,Qa(b,e-4)),f--),h=Za(a,Qa(b,e-1)),f--):(g=Za(a,Qa(b,e-1)),f--);else if(Qa(b,e-3).type!==Vb.except_clause)throw Na("malformed 'try' statement",a.c_filename,b.lineno);if(f>0){for(var i=[],j=0;f>j;++j)i[j]=$a(a,Qa(b,3+3*j),Qa(b,5+3*j));var k=new Aa.TryExcept(d,i,g,b.lineno,b.col_offset);if(!h)return k;d=[k]}return c.assert(null!==h),new Ba.TryFinally(d,h,b.lineno,b.col_offset)}function ab(a,b){Ra(b,Vb.dotted_name);for(var c=b.lineno,d=b.col_offset,e=Sa(Qa(b,0).value),f=new ha.Name(e,aa.Load,c,d),g=2;g<Pa(b);g+=2)e=Sa(Qa(b,g).value),f=new j.Attribute(f,e,aa.Load,c,d);return f}function bb(a,b){Ra(b,Vb.decorator),Ra(Qa(b,0),Wb.T_AT),Ra(Qa(b,Pa(b)-1),Wb.T_NEWLINE);var c=ab(a,Qa(b,1));return 3===Pa(b)?c:5===Pa(b)?new t.Call(c,[],[],null,null,b.lineno,b.col_offset):tb(a,Qa(b,3),c)}function cb(a,b){Ra(b,Vb.decorators);for(var c=[],d=0;d<Pa(b);++d)c[d]=bb(a,Qa(b,d));return c}function db(a,b){Ra(b,Vb.decorated);var d=cb(a,Qa(b,0));c.assert(Qa(b,1).type===Vb.funcdef||Qa(b,1).type===Vb.classdef);var e=null;return Qa(b,1).type===Vb.funcdef?e=xb(a,Qa(b,1),d):Qa(b,1)===Vb.classdef&&(e=zb(a,Qa(b,1),d)),e&&(e.lineno=b.lineno,e.col_offset=b.col_offset),e}function eb(a,b){return Ra(b,Vb.with_var),Pb(a,Qa(b,1))}function fb(a,b){var d=3;c.assert(b.type===Vb.with_stmt);var e=Pb(a,Qa(b,1));if(Qa(b,2).type===Vb.with_var){var f=eb(a,Qa(b,2));Va(a,f,wa.Store,b),d=4}return new Ha.WithStatement(e,f,Za(a,Qa(b,d)),b.lineno,b.col_offset)}function gb(a,b){var d=null,e=null,f=Pa(b);c.assert(2===f||4===f||6===f),Ra(b,Vb.exec_stmt);var g=Pb(a,Qa(b,1));return f>=4&&(d=Pb(a,Qa(b,3))),6===f&&(e=Pb(a,Qa(b,5))),new F.Exec(g,d,e,b.lineno,b.col_offset)}function hb(a,b){if(Ra(b,Vb.if_stmt),4===Pa(b))return new Q.IfStatement(Pb(a,Qa(b,1)),Za(a,Qa(b,3)),[],b.lineno,b.col_offset);var d=Qa(b,4).value,e=d.charAt(2);if("s"===e)return new Q.IfStatement(Pb(a,Qa(b,1)),Za(a,Qa(b,3)),Za(a,Qa(b,6)),b.lineno,b.col_offset);if("i"===e){var f=Pa(b)-4,g=!1,h=[];Qa(b,f+1).type===Wb.T_NAME&&"s"===Qa(b,f+1).value.charAt(2)&&(g=!0,
f-=3),f/=4,g&&(h=[new Q.IfStatement(Pb(a,Qa(b,Pa(b)-6)),Za(a,Qa(b,Pa(b)-4)),Za(a,Qa(b,Pa(b)-1)),Qa(b,Pa(b)-6).lineno,Qa(b,Pa(b)-6).col_offset)],f--);for(var i=0;f>i;++i){var j=5+4*(f-i-1);h=[new Q.IfStatement(Pb(a,Qa(b,j)),Za(a,Qa(b,j+2)),h,Qa(b,j).lineno,Qa(b,j).col_offset)]}return new Q.IfStatement(Pb(a,Qa(b,1)),Za(a,Qa(b,3)),h,b.lineno,b.col_offset)}c.fail("unexpected token in 'if' statement")}function ib(a,b,c){Ra(b,Vb.ExprList);for(var d=[],e=0;e<Pa(b);e+=2){var f=Pb(a,Qa(b,e));d[e/2]=f,c&&Va(a,f,c,Qa(b,e))}return d}function jb(a,b){return Ra(b,Vb.del_stmt),new z.DeleteExpression(ib(a,Qa(b,1),y.Del),b.lineno,b.col_offset)}function kb(a,b){Ra(b,Vb.GlobalStmt);for(var c=[],d=1;d<Pa(b);d+=2)c[(d-1)/2]=Sa(Qa(b,d).value);return new M.Global(c,b.lineno,b.col_offset)}function lb(a,b){Ra(b,Vb.NonLocalStmt);for(var c=[],d=1;d<Pa(b);d+=2)c[(d-1)/2]=Sa(Qa(b,d).value);return new ia.NonLocal(c,b.lineno,b.col_offset)}function mb(a,b){return Ra(b,Vb.assert_stmt),2===Pa(b)?new h.Assert(Pb(a,Qa(b,1)),null,b.lineno,b.col_offset):4===Pa(b)?new h.Assert(Pb(a,Qa(b,1)),Pb(a,Qa(b,3)),b.lineno,b.col_offset):void c.fail("improper number of parts to assert stmt")}function nb(a,b){a:for(;;)switch(b.type){case Vb.import_as_name:var d=null,f=Sa(Qa(b,0).value);return 3===Pa(b)&&(d=Qa(b,2).value),new e.Alias(f,null==d?null:Sa(d));case Vb.dotted_as_name:if(1===Pa(b)){b=Qa(b,0);continue a}var g=nb(a,Qa(b,0));return c.assert(!g.asname),g.asname=Sa(Qa(b,2).value),g;case Vb.dotted_name:if(1===Pa(b))return new e.Alias(Sa(Qa(b,0).value),null);for(var h="",i=0;i<Pa(b);i+=2)h+=Qa(b,i).value+".";return new e.Alias(Sa(h.substr(0,h.length-1)),null);case Wb.T_STAR:return new e.Alias(Sa("*"),null);default:throw Na("unexpected import name",a.c_filename,b.lineno)}}function ob(a,b){Ra(b,Vb.import_stmt);var c=b.lineno,d=b.col_offset;if(b=Qa(b,0),b.type===Vb.import_name){b=Qa(b,1),Ra(b,Vb.dotted_as_names);for(var e=[],f=0;f<Pa(b);f+=2)e[f/2]=nb(a,Qa(b,f));return new S.ImportStatement(e,c,d)}if(b.type===Vb.import_from){for(var g,h=null,i=0,j=1;j<Pa(b);++j){if(Qa(b,j).type===Vb.dotted_name){h=nb(a,Qa(b,j)),j++;break}if(Qa(b,j).type!==Wb.T_DOT)break;i++}switch(++j,Qa(b,j).type){case Wb.T_STAR:b=Qa(b,j),g=1;break;case Wb.T_LPAR:b=Qa(b,j+1),g=Pa(b);break;case Vb.import_as_names:if(b=Qa(b,j),g=Pa(b),g%2===0)throw Na("trailing comma not allowed without surrounding parentheses",a.c_filename,b.lineno);break;default:throw Na("Unexpected node-type in from-import",a.c_filename,b.lineno)}var e=[];if(b.type===Wb.T_STAR)e[0]=nb(a,b);else for(var f=0;f<Pa(b);f+=2)e[f/2]=nb(a,Qa(b,f));var k=h?h.name:"";return new T.ImportFrom(Sa(k),e,i,c,d)}throw Na("unknown import statement",a.c_filename,b.lineno)}function pb(a,b){return c.assert(b.type===Vb.testlist_gexp||b.type===Vb.argument),Pa(b)>1&&Qa(b,1).type===Vb.gen_for?Bb(a,b):Fb(a,b)}function qb(a,b){function d(a,b){var c=0,d=Qa(b,1);a:for(;;){if(c++,Ra(d,Vb.list_for),5!==Pa(d))return c;d=Qa(d,4);b:for(;;){if(Ra(d,Vb.list_iter),d=Qa(d,0),d.type===Vb.list_for)continue a;if(d.type===Vb.list_if){if(3===Pa(d)){d=Qa(d,2);continue b}return c}break}break}}function e(a,b){for(var c=0;;){if(Ra(b,Vb.list_iter),Qa(b,0).type===Vb.list_for)return c;if(b=Qa(b,0),Ra(b,Vb.list_if),c++,2===Pa(b))return c;b=Qa(b,2)}}Ra(b,Vb.listmaker),c.assert(Pa(b)>1);for(var f=Pb(a,Qa(b,0)),g=d(a,b),h=[],i=Qa(b,1),j=0;g>j;++j){Ra(i,Vb.list_for);var k,l=Qa(i,1),m=ib(a,l,wa.Store),n=Fb(a,Qa(i,3));if(k=1===Pa(l)?new w.Comprehension(m[0],n,[]):new w.Comprehension(new Ca.Tuple(m,wa.Store,i.lineno,i.col_offset),n,[]),5===Pa(i)){i=Qa(i,4);for(var o=e(a,i),p=[],q=0;o>q;++q)Ra(i,Vb.list_iter),i=Qa(i,0),Ra(i,Vb.list_if),p[q]=Pb(a,Qa(i,1)),3===Pa(i)&&(i=Qa(i,2));i.type===Vb.list_iter&&(i=Qa(i,0)),k.ifs=p}h[j]=k}return new _.ListComp(f,h,b.lineno,b.col_offset)}function rb(a,b){if(Qa(b,0).type===Wb.T_MINUS&&2===Pa(b)){var d=Qa(b,1);if(d.type===Vb.UnaryExpr&&1===Pa(d)){var e=Qa(d,0);if(e.type===Vb.PowerExpr&&1===Pa(e)){var f=Qa(e,0);if(f.type===Vb.AtomExpr){var g=Qa(f,0);if(g.type===Wb.T_NUMBER)return g.value="-"+g.value,Nb(a,f)}}}}var h=Pb(a,Qa(b,1));switch(Qa(b,0).type){case Wb.T_PLUS:return new Ea.UnaryOp(Da.UAdd,h,b.lineno,b.col_offset);case Wb.T_MINUS:return new Ea.UnaryOp(Fa.USub,h,b.lineno,b.col_offset);case Wb.T_TILDE:return new Ea.UnaryOp(W.Invert,h,b.lineno,b.col_offset)}c.fail("unhandled UnaryExpr")}function sb(a,b){var c=[];Ra(b,Vb.for_stmt),9===Pa(b)&&(c=Za(a,Qa(b,8)));var d,e=Qa(b,1),f=ib(a,e,wa.Store);return d=1===Pa(e)?f[0]:new Ca.Tuple(f,wa.Store,b.lineno,b.col_offset),new J.ForStatement(d,Fb(a,Qa(b,3)),Za(a,Qa(b,5)),c,b.lineno,b.col_offset)}function tb(a,b,c){Ra(b,Vb.arglist);for(var d=0,e=0,f=0,g=0;g<Pa(b);++g){var h=Qa(b,g);h.type===Vb.argument&&(1===Pa(h)?d++:Qa(h,1).type===Vb.gen_for?f++:e++)}if(f>1||f&&(d||e))throw Na("Generator expression must be parenthesized if not sole argument",a.c_filename,b.lineno);if(d+e+f>255)throw Na("more than 255 arguments",a.c_filename,b.lineno);var i=[],j=[];d=0,e=0;for(var k=null,l=null,g=0;g<Pa(b);++g){var h=Qa(b,g);if(h.type===Vb.argument)if(1===Pa(h)){if(e)throw Na("non-keyword arg after keyword arg",a.c_filename,b.lineno);if(k)throw Na("only named arguments may follow *expression",a.c_filename,b.lineno);i[d++]=Pb(a,Qa(h,0))}else if(Qa(h,1).type===Vb.gen_for)i[d++]=Bb(a,h);else{var m=Pb(a,Qa(h,0));if(m.constructor===Z.Lambda)throw Na("lambda cannot contain assignment",a.c_filename,b.lineno);if(m.constructor!==ha.Name)throw Na("keyword can't be an expression",a.c_filename,b.lineno);var n=m.id;Ua(a,Qa(h,0),n,b.lineno);for(var o=0;e>o;++o){var p=j[o].arg;if(p===n)throw Na("keyword argument repeated",a.c_filename,b.lineno)}j[e++]=new P.Keyword(n,Pb(a,Qa(h,2)))}else h.type===Wb.T_STAR?k=Pb(a,Qa(b,++g)):h.type===Wb.T_DOUBLESTAR&&(l=Pb(a,Qa(b,++g)))}return new t.Call(c,i,j,k,l,c.lineno,c.col_offset)}function ub(a,b,d){if(Ra(b,Vb.trailer),Qa(b,0).type===Wb.T_LPAR)return 2===Pa(b)?new t.Call(d,[],[],null,null,b.lineno,b.col_offset):tb(a,Qa(b,1),d);if(Qa(b,0).type===Wb.T_DOT)return new j.Attribute(d,Sa(Qa(b,1).value),aa.Load,b.lineno,b.col_offset);if(Ra(Qa(b,0),Wb.T_LSQB),Ra(Qa(b,2),Wb.T_RSQB),b=Qa(b,1),1===Pa(b))return new za.Subscript(d,Mb(a,Qa(b,0)),aa.Load,b.lineno,b.col_offset);for(var e=!0,f=[],g=0;g<Pa(b);g+=2){var h=Mb(a,Qa(b,g));h.constructor!==U.Index&&(e=!1),f[g/2]=h}if(!e)return new za.Subscript(d,new H.ExtSlice(f),aa.Load,b.lineno,b.col_offset);for(var i=[],g=0;g<f.length;++g){var k=f[g];c.assert(k.constructor===U.Index&&null!==k.value&&void 0!==k.value),i[g]=k.value}var l=new Ca.Tuple(i,aa.Load,b.lineno,b.col_offset);return new za.Subscript(d,new U.Index(l),aa.Load,b.lineno,b.col_offset)}function vb(a,b){var d;switch(Ra(b,Vb.flow_stmt),d=Qa(b,0),d.type){case Vb.break_stmt:return new s.BreakStatement(b.lineno,b.col_offset);case Vb.continue_stmt:return new x.ContinueStatement(b.lineno,b.col_offset);case Vb.yield_stmt:return new G.Expr(Pb(a,Qa(d,0)),b.lineno,b.col_offset);case Vb.return_stmt:return 1===Pa(d)?new ta.ReturnStatement(null,b.lineno,b.col_offset):new ta.ReturnStatement(Fb(a,Qa(d,1)),b.lineno,b.col_offset);case Vb.raise_stmt:if(1===Pa(d))return new sa.Raise(null,null,null,b.lineno,b.col_offset);if(2===Pa(d))return new sa.Raise(Pb(a,Qa(d,1)),null,null,b.lineno,b.col_offset);if(4===Pa(d))return new sa.Raise(Pb(a,Qa(d,1)),Pb(a,Qa(d,3)),null,b.lineno,b.col_offset);if(6===Pa(d))return new sa.Raise(Pb(a,Qa(d,1)),Pb(a,Qa(d,3)),Pb(a,Qa(d,5)),b.lineno,b.col_offset);default:c.fail("unexpected flow_stmt")}c.fail("unhandled flow statement")}function wb(a,b){var d,e=null,g=null;if(b.type===Vb.parameters){if(2===Pa(b))return new f.Arguments([],null,null,[]);b=Qa(b,1)}Ra(b,Vb.varargslist);for(var h=[],i=[],j=!1,k=0,l=0,m=0;k<Pa(b);)switch(d=Qa(b,k),d.type){case Vb.fpdef:for(var n=0,o=!1;;){if(k+1<Pa(b)&&Qa(b,k+1).type===Wb.T_EQUAL)i[l++]=Pb(a,Qa(b,k+2)),k+=2,j=!0;else if(j){if(o&&!n)throw Na("parenthesized arg with default",a.c_filename,b.lineno);throw Na("non-default argument follows default argument",a.c_filename,b.lineno)}{if(3!==Pa(d)){if(Qa(d,0).type===Wb.T_NAME){Ua(a,b,Qa(d,0).value,b.lineno);var p=Sa(Qa(d,0).value);h[m++]=new ha.Name(p,oa.Param,d.lineno,d.col_offset)}if(k+=2,o)throw Na("parenthesized argument names are invalid",a.c_filename,b.lineno);break}if(d=Qa(d,1),1!==Pa(d))throw Na("tuple parameter unpacking has been removed",a.c_filename,b.lineno);o=!0,d=Qa(d,0),c.assert(d.type===Vb.fpdef)}}break;case Wb.T_STAR:Ua(a,Qa(b,k+1),Qa(b,k+1).value,b.lineno),e=Sa(Qa(b,k+1).value),k+=3;break;case Wb.T_DOUBLESTAR:Ua(a,Qa(b,k+1),Qa(b,k+1).value,b.lineno),g=Sa(Qa(b,k+1).value),k+=3;break;default:c.fail("unexpected node in varargslist")}return new f.Arguments(h,e,g,i)}function xb(a,b,c){Ra(b,Vb.funcdef);var d=Sa(Qa(b,1).value);Ua(a,Qa(b,1),Qa(b,1).value,b.lineno);var e=wb(a,Qa(b,2)),f=Za(a,Qa(b,4));return new K.FunctionDef(d,e,f,c,b.lineno,b.col_offset)}function yb(a,b){return c.assert(Pa(b)>0),Ra(b,Vb.testlist),1===Pa(b)?[Pb(a,Qa(b,0))]:Ya(a,b)}function zb(a,b,c){Ra(b,Vb.classdef),Ua(a,b,Qa(b,1).value,b.lineno);var d=Sa(Qa(b,1).value);if(4===Pa(b))return new u.ClassDef(d,[],Za(a,Qa(b,3)),c,b.lineno,b.col_offset);if(Qa(b,3).type===Wb.T_RPAR)return new u.ClassDef(d,[],Za(a,Qa(b,5)),c,b.lineno,b.col_offset);var e=yb(a,Qa(b,3)),f=Za(a,Qa(b,6));return new u.ClassDef(d,e,f,c,b.lineno,b.col_offset)}function Ab(a,b){var c,d;return 3===Pa(b)?(c=new f.Arguments([],null,null,[]),d=Pb(a,Qa(b,2))):(c=wb(a,Qa(b,1)),d=Pb(a,Qa(b,3))),new Z.Lambda(c,d,b.lineno,b.col_offset)}function Bb(a,b){function d(a,b){var d=0,e=Qa(b,1);a:for(;;){if(d++,Ra(e,Vb.gen_for),5!==Pa(e))return d;e=Qa(e,4);b:for(;;){if(Ra(e,Vb.gen_iter),e=Qa(e,0),e.type===Vb.gen_for)continue a;if(e.type===Vb.gen_if){if(3===Pa(e)){e=Qa(e,2);continue b}return d}break}break}c.fail("logic error in countGenFors")}function e(a,b){for(var c=0;;){if(Ra(b,Vb.gen_iter),Qa(b,0).type===Vb.gen_for)return c;if(b=Qa(b,0),Ra(b,Vb.gen_if),c++,2===Pa(b))return c;b=Qa(b,2)}}c.assert(b.type===Vb.testlist_gexp||b.type===Vb.argument),c.assert(Pa(b)>1);for(var f=Pb(a,Qa(b,0)),g=d(a,b),h=[],i=Qa(b,1),j=0;g>j;++j){Ra(i,Vb.gen_for);var k,l=Qa(i,1),m=ib(a,l,wa.Store),n=Pb(a,Qa(i,3));if(k=1===Pa(l)?new w.Comprehension(m[0],n,[]):new w.Comprehension(new Ca.Tuple(m,wa.Store,i.lineno,i.col_offset),n,[]),5===Pa(i)){i=Qa(i,4);for(var o=e(a,i),p=[],q=0;o>q;++q)Ra(i,Vb.gen_iter),i=Qa(i,0),Ra(i,Vb.gen_if),n=Pb(a,Qa(i,1)),p[q]=n,3===Pa(i)&&(i=Qa(i,2));i.type===Vb.gen_iter&&(i=Qa(i,0)),k.ifs=p}h[j]=k}return new L.GeneratorExp(f,h,b.lineno,b.col_offset)}function Cb(a,b){return Ra(b,Vb.while_stmt),4===Pa(b)?new Ga.WhileStatement(Pb(a,Qa(b,1)),Za(a,Qa(b,3)),[],b.lineno,b.col_offset):7===Pa(b)?new Ga.WhileStatement(Pb(a,Qa(b,1)),Za(a,Qa(b,3)),Za(a,Qa(b,6)),b.lineno,b.col_offset):void c.fail("wrong number of tokens for 'while' stmt")}function Db(a,b){switch(Ra(b,Vb.augassign),b=Qa(b,0),b.value.charAt(0)){case"+":return d.Add;case"-":return ya.Sub;case"/":return"/"===b.value.charAt(1)?I.FloorDiv:B.Div;case"%":return ea.Mod;case"<":return ba.LShift;case">":return ua.RShift;case"&":return o.BitAnd;case"^":return q.BitXor;case"|":return p.BitOr;case"*":return"*"===b.value.charAt(1)?qa.Pow:ga.Mult;default:c.fail("invalid augassign")}}function Eb(a,b){for(var c=new n.BinOp(Pb(a,Qa(b,0)),Wa(Qa(b,1)),Pb(a,Qa(b,2)),b.lineno,b.col_offset),d=(Pa(b)-1)/2,e=1;d>e;++e){var f=Qa(b,2*e+1),g=Wa(f),h=Pb(a,Qa(b,2*e+2));c=new n.BinOp(c,g,h,f.lineno,f.col_offset)}return c}function Fb(a,b){return c.assert(Pa(b)>0),b.type===Vb.testlist_gexp?Pa(b)>1&&c.assert(Qa(b,1).type!==Vb.gen_for):c.assert(b.type===Vb.testlist||b.type===Vb.testlist_safe||b.type===Vb.testlist1),1===Pa(b)?Pb(a,Qa(b,0)):new Ca.Tuple(Ya(a,b),aa.Load,b.lineno,b.col_offset)}function Gb(a,b){if(Ra(b,Vb.ExprStmt),1===Pa(b))return new G.Expr(Fb(a,Qa(b,0)),b.lineno,b.col_offset);if(Qa(b,1).type===Vb.augassign){var c=Qa(b,0),d=Fb(a,c);switch(d.constructor){case L.GeneratorExp:throw Na("augmented assignment to generator expression not possible",a.c_filename,b.lineno);case Ia.Yield:throw Na("augmented assignment to yield expression not possible",a.c_filename,b.lineno);case ha.Name:var e=d.id;Ua(a,c,e,b.lineno);break;case j.Attribute:case za.Subscript:break;default:throw Na("illegal expression for augmented assignment",a.c_filename,b.lineno)}Va(a,d,wa.Store,c),c=Qa(b,2);var f;return f=c.type===Vb.testlist?Fb(a,c):Pb(a,c),new k.AugAssign(d,Db(a,Qa(b,1)),f,b.lineno,b.col_offset)}Ra(Qa(b,1),Wb.T_EQUAL);for(var g=[],h=0;h<Pa(b)-2;h+=2){var c=Qa(b,h);if(c.type===Vb.YieldExpr)throw Na("assignment to yield expression not possible",a.c_filename,b.lineno);var l=Fb(a,c);Va(a,l,wa.Store,Qa(b,h)),g[h/2]=l}var m,n=Qa(b,Pa(b)-1);return m=n.type===Vb.testlist?Fb(a,n):Pb(a,n),new i.Assign(g,m,b.lineno,b.col_offset)}function Hb(a,b){return c.assert(5===Pa(b)),new R.IfExp(Pb(a,Qa(b,2)),Pb(a,Qa(b,0)),Pb(a,Qa(b,4)),b.lineno,b.col_offset)}function Ib(a){return encodeURIComponent(a)}function Jb(a,b){var d=function(a){return decodeURIComponent(Ib(a))},e=function(a){for(var b=a.length,c="",d=0;b>d;++d){var e=a.charAt(d);if("\\"===e)if(++d,e=a.charAt(d),"n"===e)c+="\n";else if("\\"===e)c+="\\";else if("t"===e)c+="	";else if("r"===e)c+="\r";else if("b"===e)c+="\b";else if("f"===e)c+="\f";else if("v"===e)c+="";else if("0"===e)c+="\x00";else if('"'===e)c+='"';else if("'"===e)c+="'";else if("\n"===e);else if("x"===e){var f=a.charAt(++d),g=a.charAt(++d);c+=String.fromCharCode(parseInt(f+g,16))}else if("u"===e||"U"===e){var f=a.charAt(++d),g=a.charAt(++d),h=a.charAt(++d),i=a.charAt(++d);c+=String.fromCharCode(parseInt(f+g,16),parseInt(h+i,16))}else c+="\\"+e;else c+=e}return c},f=b.charAt(0),g=!1;return"u"===f||"U"===f?(b=b.substr(1),f=b.charAt(0)):("r"===f||"R"===f)&&(b=b.substr(1),f=b.charAt(0),g=!0),c.assert("b"!==f&&"B"!==f,"todo; haven't done b'' strings yet"),c.assert("'"===f||'"'===f&&b.charAt(b.length-1)===f),b=b.substr(1,b.length-2),b.length>=4&&b.charAt(0)===f&&b.charAt(1)===f&&(c.assert(b.charAt(b.length-1)===f&&b.charAt(b.length-2)===f),b=b.substr(2,b.length-4)),Sa(g||-1===b.indexOf("\\")?d(b):e(b,f))}function Kb(a,b){Ra(Qa(b,0),Wb.T_STRING);for(var c="",d=0;d<Pa(b);++d){var e=Qa(b,d);try{c+=Jb(a,e.value)}catch(f){throw Na("invalid string (possibly contains a unicode character)",a.c_filename,e.lineno)}}return c}function Lb(a,b,c){var d=b.charAt(b.length-1);if("j"===d||"J"===d)throw Na("complex numbers are currently unsupported",a.c_filename,c);if(-1!==b.indexOf("."))return Ma.floatAST(b);var e,f=b,g=10,h=!1;if("-"===b.charAt(0)&&(f=b.substr(1),h=!0),"0"!==f.charAt(0)||"x"!==f.charAt(1)&&"X"!==f.charAt(1)){if(-1!==b.indexOf("e")||-1!==b.indexOf("E"))return Ma.floatAST(b);if("0"!==f.charAt(0)||"b"!==f.charAt(1)&&"B"!==f.charAt(1))if("0"===f.charAt(0))if("0"===f)e=0;else{if("l"===d||"L"===d)return Ma.longAST(b.substr(0,b.length-1),8);g=8,f=f.substring(1),("o"===f.charAt(0)||"O"===f.charAt(0))&&(f=f.substring(1)),e=parseInt(f,8)}else{if("l"===d||"L"===d)return Ma.longAST(b.substr(0,b.length-1),g);e=parseInt(f,g)}else f=f.substring(2),e=parseInt(f,2),g=2}else f=f.substring(2),e=parseInt(f,16),g=16;return e>Xb&&Math.floor(e)===e&&-1===b.indexOf("e")&&-1===b.indexOf("E")?Ma.longAST(b,0):"l"===d||"L"===d?Ma.longAST(b.substr(0,b.length-1),g):Ma.intAST(h?-e:e)}function Mb(a,b){Ra(b,Vb.subscript);var c=Qa(b,0),d=null,e=null,f=null;if(c.type===Wb.T_DOT)return new C.Ellipsis;if(1===Pa(b)&&c.type===Vb.IfExpr)return new U.Index(Pb(a,c));if(c.type===Vb.IfExpr&&(d=Pb(a,c)),c.type===Wb.T_COLON){if(Pa(b)>1){var g=Qa(b,1);g.type===Vb.IfExpr&&(e=Pb(a,g))}}else if(Pa(b)>2){var g=Qa(b,2);g.type===Vb.IfExpr&&(e=Pb(a,g))}return c=Qa(b,Pa(b)-1),c.type===Vb.sliceop&&(1===Pa(c)?(c=Qa(c,0),f=new ha.Name(Sa("None"),aa.Load,c.lineno,c.col_offset)):(c=Qa(c,1),c.type===Vb.IfExpr&&(f=Pb(a,c)))),new va.Slice(d,e,f)}function Nb(a,b){var d=Qa(b,0);switch(d.type){case Wb.T_NAME:return new ha.Name(Sa(d.value),aa.Load,b.lineno,b.col_offset);case Wb.T_STRING:return new xa.Str(Kb(a,b),b.lineno,b.col_offset);case Wb.T_NUMBER:return new ma.Num(Lb(a,d.value,b.lineno),b.lineno,b.col_offset);case Wb.T_LPAR:return d=Qa(b,1),d.type===Wb.T_RPAR?new Ca.Tuple([],aa.Load,b.lineno,b.col_offset):d.type===Vb.YieldExpr?Pb(a,d):Pa(d)>1&&Qa(d,1).type===Vb.gen_for?Bb(a,d):pb(a,d);case Wb.T_LSQB:return d=Qa(b,1),d.type===Wb.T_RSQB?new $.List([],aa.Load,b.lineno,b.col_offset):(Ra(d,Vb.listmaker),1===Pa(d)||Qa(d,1).type===Wb.T_COMMA?new $.List(Ya(a,d),aa.Load,b.lineno,b.col_offset):qb(a,d));case Wb.T_LBRACE:d=Qa(b,1);for(var e=[],f=[],g=0;g<Pa(d);g+=4)e[g/4]=Pb(a,Qa(d,g)),f[g/4]=Pb(a,Qa(d,g+2));return new A.Dict(e,f,b.lineno,b.col_offset);case Wb.T_BACKQUOTE:throw Na("backquote not supported, use repr()",a.c_filename,b.lineno);default:c.fail("unhandled atom")}}function Ob(a,b){Ra(b,Vb.PowerExpr);var c=Nb(a,Qa(b,0));if(1===Pa(b))return c;for(var d=1;d<Pa(b);++d){var e=Qa(b,d);if(e.type!==Vb.trailer)break;var f=ub(a,e,c);f.lineno=c.lineno,f.col_offset=c.col_offset,c=f}if(Qa(b,Pa(b)-1).type===Vb.UnaryExpr){var g=Pb(a,Qa(b,Pa(b)-1));c=new n.BinOp(c,qa.Pow,g,b.lineno,b.col_offset)}return c}function Pb(a,b){a:for(;;){switch(b.type){case Vb.IfExpr:case Vb.old_test:if(Qa(b,0).type===Vb.LambdaExpr||Qa(b,0).type===Vb.old_LambdaExpr)return Ab(a,Qa(b,0));if(Pa(b)>1)return Hb(a,b);case Vb.OrExpr:case Vb.AndExpr:if(1===Pa(b)){b=Qa(b,0);continue a}for(var d=[],e=0;e<Pa(b);e+=2)d[e/2]=Pb(a,Qa(b,e));return"and"===Qa(b,1).value?new r.BoolOp(g.And,d,b.lineno,b.col_offset):(c.assert("or"===Qa(b,1).value),new r.BoolOp(na.Or,d,b.lineno,b.col_offset));case Vb.NotExpr:if(1===Pa(b)){b=Qa(b,0);continue a}return new Ea.UnaryOp(ja.Not,Pb(a,Qa(b,1)),b.lineno,b.col_offset);case Vb.ComparisonExpr:if(1===Pa(b)){b=Qa(b,0);continue a}for(var f=[],h=[],e=1;e<Pa(b);e+=2)f[(e-1)/2]=Xa(a,Qa(b,e)),h[(e-1)/2]=Pb(a,Qa(b,e+1));return new v.Compare(Pb(a,Qa(b,0)),f,h,b.lineno,b.col_offset);case Vb.ArithmeticExpr:case Vb.GeometricExpr:case Vb.ShiftExpr:case Vb.BitwiseOrExpr:case Vb.BitwiseXorExpr:case Vb.BitwiseAndExpr:if(1===Pa(b)){b=Qa(b,0);continue a}return Eb(a,b);case Vb.YieldExpr:var i=null;return 2===Pa(b)&&(i=Fb(a,Qa(b,1))),new Ia.Yield(i,b.lineno,b.col_offset);case Vb.UnaryExpr:if(1===Pa(b)){b=Qa(b,0);continue a}return rb(a,b);case Vb.PowerExpr:return Ob(a,b);default:c.fail("unhandled expr")}break}}function Qb(a,b){var c=1,d=null;Ra(b,Vb.print_stmt),Pa(b)>=2&&Qa(b,1).type===Wb.T_RIGHTSHIFT&&(d=Pb(a,Qa(b,2)),c=4);for(var e=[],f=c,g=0;f<Pa(b);f+=2,++g)e[g]=Pb(a,Qa(b,f));var h=Qa(b,Pa(b)-1).type===Wb.T_COMMA?!1:!0;return new ra.Print(d,e,h,b.lineno,b.col_offset)}function Rb(a,b){if(b.type===Vb.stmt&&(c.assert(1===Pa(b)),b=Qa(b,0)),b.type===Vb.simple_stmt&&(c.assert(1===Ta(b)),b=Qa(b,0)),b.type===Vb.small_stmt)switch(Ra(b,Vb.small_stmt),b=Qa(b,0),b.type){case Vb.ExprStmt:return Gb(a,b);case Vb.print_stmt:return Qb(a,b);case Vb.del_stmt:return jb(a,b);case Vb.pass_stmt:return new pa.Pass(b.lineno,b.col_offset);case Vb.flow_stmt:return vb(a,b);case Vb.import_stmt:return ob(a,b);case Vb.GlobalStmt:return kb(a,b);case Vb.NonLocalStmt:return lb(a,b);case Vb.exec_stmt:return gb(a,b);case Vb.assert_stmt:return mb(a,b);default:c.fail("unhandled small_stmt")}else{var d=Qa(b,0);switch(Ra(b,Vb.compound_stmt),d.type){case Vb.if_stmt:return hb(a,d);case Vb.while_stmt:return Cb(a,d);case Vb.for_stmt:return sb(a,d);case Vb.try_stmt:return _a(a,d);case Vb.with_stmt:return fb(a,d);case Vb.funcdef:return xb(a,d,[]);case Vb.classdef:return zb(a,d,[]);case Vb.decorated:return db(a,d);default:c.fail("unhandled compound_stmt")}}}function Sb(a,b){var d,e=new Oa("utf-8",b),f=[],g=0;switch(a.type){case Vb.file_input:for(var h=0;h<Pa(a)-1;++h){var d=Qa(a,h);if(a.type!==Wb.T_NEWLINE){Ra(d,Vb.stmt);var i=Ta(d);if(1===i)f[g++]=Rb(e,d);else{d=Qa(d,0),Ra(d,Vb.simple_stmt);for(var j=0;i>j;++j)f[g++]=Rb(e,Qa(d,2*j))}}}return new fa.Module(f);case Vb.eval_input:c.fail("todo;");case Vb.single_input:c.fail("todo;");default:c.fail("todo;")}}function Tb(a){var b=function(a){if(null===a)return"None";if(a.prototype&&void 0!==a.prototype._astname&&a.prototype._isenum)return a.prototype._astname+"()";if(void 0!==a._astname){for(var c=[],d=0;d<a._fields.length;d+=2){var e=a._fields[d],f=a._fields[d+1](a);c.push([e,b(f)])}for(var g=[],d=0;d<c.length;++d){var h=c[d];g.push(h[0]+"="+h[1].replace(/^\s+/,""))}var i=g.join(",");return a._astname+"("+i+")"}if(Ja.isArrayLike(a)){for(var j=[],d=0;d<a.length;++d){var k=a[d];j.push(b(k))}var l=j.join(",");return"["+l.replace(/^\s+/,"")+"]"}var m;return m=a===!0?"True":a===!1?"False":""+a};return b(a)}var Ub=Ka["default"].ParseTables,Vb=Ub.sym,Wb=La["default"],Xb=Math.pow(2,53),Yb={};!function(){Yb[Wb.T_VBAR]=p.BitOr,Yb[Wb.T_VBAR]=p.BitOr,Yb[Wb.T_CIRCUMFLEX]=q.BitXor,Yb[Wb.T_AMPER]=o.BitAnd,Yb[Wb.T_LEFTSHIFT]=ba.LShift,Yb[Wb.T_RIGHTSHIFT]=ua.RShift,Yb[Wb.T_PLUS]=d.Add,Yb[Wb.T_MINUS]=ya.Sub,Yb[Wb.T_STAR]=ga.Mult,Yb[Wb.T_SLASH]=B.Div,Yb[Wb.T_DOUBLESLASH]=I.FloorDiv,Yb[Wb.T_PERCENT]=ea.Mod}(),b.astFromParse=Sb,b.astDump=Tb}),b("pytools/reservedNames",["require","exports"],function(a,b){"use strict";var c={__defineGetter__:!0,__defineSetter__:!0,apply:!0,call:!0,eval:!0,hasOwnProperty:!0,isPrototypeOf:!0,__lookupGetter__:!0,__lookupSetter__:!0,__noSuchMethod__:!0,propertyIsEnumerable:!0,toSource:!0,toLocaleString:!0,toString:!0,unwatch:!0,valueOf:!0,watch:!0,length:!0};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("pytools/reservedWords",["require","exports"],function(a,b){"use strict";var c={"abstract":!0,as:!0,"boolean":!0,"break":!0,"byte":!0,"case":!0,"catch":!0,"char":!0,"class":!0,"continue":!0,"const":!0,"debugger":!0,"default":!0,"delete":!0,"do":!0,"double":!0,"else":!0,"enum":!0,"export":!0,"extends":!0,"false":!0,"final":!0,"finally":!0,"float":!0,"for":!0,"function":!0,"goto":!0,"if":!0,"implements":!0,"import":!0,"in":!0,"instanceof":!0,"int":!0,"interface":!0,is:!0,"long":!0,namespace:!0,"native":!0,"new":!0,"null":!0,"package":!0,"private":!0,"protected":!0,"public":!0,"return":!0,"short":!0,"static":!0,"super":!1,"switch":!0,"synchronized":!0,"this":!0,"throw":!0,"throws":!0,"transient":!0,"true":!0,"try":!0,"typeof":!0,use:!0,"var":!0,"void":!0,"volatile":!0,"while":!0,"with":!0};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("pytools/dictUpdate",["require","exports"],function(a,b){"use strict";function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("pytools/mangleName",["require","exports"],function(a,b){"use strict";function c(a,b){var c=null;return null===a||null===b||"_"!==b.charAt(0)||"_"!==b.charAt(1)?b:"_"===b.charAt(b.length-1)&&"_"===b.charAt(b.length-2)?b:(c=a,c.replace(/_/g,""),""===c?b:(c=a,c.replace(/^_*/,""),c="_"+c+b))}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("pytools/SymbolConstants",["require","exports"],function(a,b){"use strict";b.DEF_GLOBAL=1,b.DEF_LOCAL=2,b.DEF_PARAM=4,b.USE=8,b.DEF_STAR=16,b.DEF_DOUBLESTAR=32,b.DEF_INTUPLE=64,b.DEF_FREE=128,b.DEF_FREE_GLOBAL=256,b.DEF_FREE_CLASS=512,b.DEF_IMPORT=1024,b.DEF_BOUND=b.DEF_LOCAL|b.DEF_PARAM|b.DEF_IMPORT,b.SCOPE_OFF=11,b.SCOPE_MASK=7,b.LOCAL=1,b.GLOBAL_EXPLICIT=2,b.GLOBAL_IMPLICIT=3,b.FREE=4,b.CELL=5,b.OPT_IMPORT_STAR=1,b.OPT_EXEC=2,b.OPT_BARE_EXEC=4,b.OPT_TOPLEVEL=8,b.GENERATOR=2,b.GENERATOR_EXPRESSION=2,b.ModuleBlock="module",b.FunctionBlock="function",b.ClassBlock="class"}),b("pytools/Symbol",["require","exports","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=function(){function a(a,b,c){this.__name=a,this.__flags=b,this.__scope=b>>k.SCOPE_OFF&j.SCOPE_MASK,this.__namespaces=c||[]}return a.prototype.get_name=function(){return this.__name},a.prototype.is_referenced=function(){return!!(this.__flags&l.USE)},a.prototype.is_parameter=function(){return!!(this.__flags&f.DEF_PARAM)},a.prototype.is_global=function(){return this.__scope===i.GLOBAL_IMPLICIT||this.__scope===h.GLOBAL_EXPLICIT},a.prototype.is_declared_global=function(){return this.__scope===h.GLOBAL_EXPLICIT},a.prototype.is_local=function(){return!!(this.__flags&c.DEF_BOUND)},a.prototype.is_free=function(){return this.__scope===g.FREE},a.prototype.is_imported=function(){return!!(this.__flags&d.DEF_IMPORT)},a.prototype.is_assigned=function(){return!!(this.__flags&e.DEF_LOCAL)},a.prototype.is_namespace=function(){return this.__namespaces&&this.__namespaces.length>0},a.prototype.get_namespaces=function(){return this.__namespaces},a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=m}),b("pytools/SymbolTableScope",["require","exports","./asserts","./Symbol","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=0,n=function(){function a(a,b,c,d,e){this.symFlags={},this.name=b,this.varnames=[],this.children=[],this.blockType=c,this.isNested=!1,this.hasFree=!1,this.childHasFree=!1,this.generator=!1,this.varargs=!1,this.varkeywords=!1,this.returnsValue=!1,this.lineno=e,this.table=a,a.cur&&(a.cur.nested||a.cur.blockType===h.FunctionBlock)&&(this.isNested=!0),d.scopeId=m++,a.stss[d.scopeId]=this,this.symbols={}}return a.prototype.get_type=function(){return this.blockType},a.prototype.get_name=function(){return this.name},a.prototype.get_lineno=function(){return this.lineno},a.prototype.is_nested=function(){return this.isNested},a.prototype.has_children=function(){return this.children.length>0},a.prototype.get_identifiers=function(){return this._identsMatching(function(){return!0})},a.prototype.lookup=function(a){var b;if(this.symbols.hasOwnProperty(a))b=this.symbols[a];else{var c=this.symFlags[a],e=this.__check_children(a);b=this.symbols[a]=new d["default"](a,c,e)}return b},a.prototype.__check_children=function(a){for(var b=[],c=0;c<this.children.length;++c){var d=this.children[c];d.name===a&&b.push(d)}return b},a.prototype._identsMatching=function(a){var b=[];for(var c in this.symFlags)this.symFlags.hasOwnProperty(c)&&a(this.symFlags[c])&&b.push(c);return b.sort(),b},a.prototype.get_parameters=function(){return c.assert("function"===this.get_type(),"get_parameters only valid for function scopes"),this._funcParams||(this._funcParams=this._identsMatching(function(a){return!!(a&e.DEF_PARAM)})),this._funcParams},a.prototype.get_locals=function(){return c.assert("function"===this.get_type(),"get_locals only valid for function scopes"),this._funcLocals||(this._funcLocals=this._identsMatching(function(a){return!!(a&f.DEF_BOUND)})),this._funcLocals},a.prototype.get_globals=function(){return c.assert("function"===this.get_type(),"get_globals only valid for function scopes"),this._funcGlobals||(this._funcGlobals=this._identsMatching(function(a){var b=a>>l.SCOPE_OFF&k.SCOPE_MASK;return b===j.GLOBAL_IMPLICIT||b===i.GLOBAL_EXPLICIT})),this._funcGlobals},a.prototype.get_frees=function(){return c.assert("function"===this.get_type(),"get_frees only valid for function scopes"),this._funcFrees||(this._funcFrees=this._identsMatching(function(a){var b=a>>l.SCOPE_OFF&k.SCOPE_MASK;return b===g.FREE})),this._funcFrees},a.prototype.get_methods=function(){if(c.assert("class"===this.get_type(),"get_methods only valid for class scopes"),!this._classMethods){for(var a=[],b=0;b<this.children.length;++b)a.push(this.children[b].name);a.sort(),this._classMethods=a}return this._classMethods},a.prototype.getScope=function(a){var b=this.symFlags[a];return void 0===b?0:b>>l.SCOPE_OFF&k.SCOPE_MASK},a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=n}),b("pytools/syntaxError",["require","exports","./asserts","./base"],function(a,b,c,d){"use strict";function e(a,b,e){c.assert(d.isString(a),"message must be a string"),c.assert(d.isString(b),"fileName must be a string"),d.isDef(e)&&c.assert(d.isNumber(e),"lineNumber must be a number");var f=new SyntaxError(a);return f.fileName=b,"number"==typeof e&&(f.lineNumber=e),f}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("pytools/SymbolTable",["require","exports","./asserts","./dictUpdate","./mangleName","./SymbolTableScope","./syntaxError","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){"use strict";var ra=function(){function a(a){this.fileName=a,this.cur=null,this.top=null,this.stack=[],this.global=null,this.curClass=null,this.tmpname=0,this.stss={}}return a.prototype.getStsForAst=function(a){c.assert(void 0!==a.scopeId,"ast wasn't added to st?");var b=this.stss[a.scopeId];return c.assert(void 0!==b,"unknown sym tab entry"),b},a.prototype.SEQStmt=function(a){for(var b=a.length,c=0;b>c;++c){var d=a[c];d&&this.visitStmt(d)}},a.prototype.SEQExpr=function(a){for(var b=a.length,c=0;b>c;++c){var d=a[c];d&&this.visitExpr(d)}},a.prototype.enterBlock=function(a,b,c,d){var e=null;this.cur&&(e=this.cur,this.stack.push(this.cur)),this.cur=new f["default"](this,a,b,c,d),"top"===a&&(this.global=this.cur.symFlags),e&&e.children.push(this.cur)},a.prototype.exitBlock=function(){this.cur=null,this.stack.length>0&&(this.cur=this.stack.pop())},a.prototype.visitParams=function(a,b){for(var d=0;d<a.length;++d){var e=a[d];if(e.constructor!==L.Name)throw g["default"]("invalid expression in parameter list",this.fileName);c.assert(e.ctx===N.Param||e.ctx===T.Store&&!b),this.addDef(e.id,ia.DEF_PARAM,e.lineno)}},a.prototype.visitArguments=function(a,b){a.args&&this.visitParams(a.args,!0),a.vararg&&(this.addDef(a.vararg,ia.DEF_PARAM,b),this.cur.varargs=!0),a.kwarg&&(this.addDef(a.kwarg,ia.DEF_PARAM,b),this.cur.varkeywords=!0)},a.prototype.newTmpname=function(a){this.addDef("_["+ ++this.tmpname+"]",ha.DEF_LOCAL,a)},a.prototype.addDef=function(a,b,c){var d=e["default"](this.curClass,a),f=this.cur.symFlags[d];if(void 0!==f){if(b&ia.DEF_PARAM&&f&ia.DEF_PARAM)throw g["default"]("duplicate argument '"+a+"' in function definition",this.fileName,c);f|=b}else f=b;if(this.cur.symFlags[d]=f,b&ia.DEF_PARAM)this.cur.varnames.push(d);else if(b&fa.DEF_GLOBAL){f=b;var h=this.global[d];void 0!==h&&(f|=h),this.global[d]=f}},a.prototype.visitSlice=function(a){switch(a.constructor){case S.Slice:a.lower&&this.visitExpr(a.lower),a.upper&&this.visitExpr(a.upper),a.step&&this.visitExpr(a.step);break;case x.ExtSlice:for(var b=0;b<a.dims.length;++b)this.visitSlice(a.dims[b]);break;case G.Index:this.visitExpr(a.value);break;case u.Ellipsis:}},a.prototype.visitStmt=function(a){switch(c.assert(void 0!==a,"visitStmt called with undefined"),a.constructor){case z.FunctionDef:this.addDef(a.name,ha.DEF_LOCAL,a.lineno),a.args.defaults&&this.SEQExpr(a.args.defaults),a.decorator_list&&this.SEQExpr(a.decorator_list),this.enterBlock(a.name,ka.FunctionBlock,a,a.lineno),this.visitArguments(a.args,a.lineno),this.SEQStmt(a.body),this.exitBlock();break;case p.ClassDef:this.addDef(a.name,ha.DEF_LOCAL,a.lineno),this.SEQExpr(a.bases),a.decorator_list&&this.SEQExpr(a.decorator_list),this.enterBlock(a.name,ca.ClassBlock,a,a.lineno);var b=this.curClass;this.curClass=a.name,this.SEQStmt(a.body),this.curClass=b,this.exitBlock();break;case R.ReturnStatement:var d=a;

if(d.value&&(this.visitExpr(d.value),this.cur.returnsValue=!0,this.cur.generator))throw g["default"]("'return' with argument inside generator",this.fileName);break;case s.DeleteExpression:this.SEQExpr(a.targets);break;case i.Assign:this.SEQExpr(a.targets),this.visitExpr(a.value);break;case k.AugAssign:this.visitExpr(a.target),this.visitExpr(a.value);break;case P.Print:a.dest&&this.visitExpr(a.dest),this.SEQExpr(a.values);break;case y.ForStatement:var f=a;this.visitExpr(f.target),this.visitExpr(f.iter),this.SEQStmt(f.body),f.orelse&&this.SEQStmt(f.orelse);break;case $.WhileStatement:var j=a;this.visitExpr(j.test),this.SEQStmt(j.body),j.orelse&&this.SEQStmt(j.orelse);break;case C.IfStatement:var l=a;this.visitExpr(l.test),this.SEQStmt(l.body),l.orelse&&this.SEQStmt(l.orelse);break;case Q.Raise:a.type&&(this.visitExpr(a.type),a.inst&&(this.visitExpr(a.inst),a.tback&&this.visitExpr(a.tback)));break;case W.TryExcept:this.SEQStmt(a.body),this.SEQStmt(a.orelse),this.visitExcepthandlers(a.handlers);break;case X.TryFinally:this.SEQStmt(a.body),this.SEQStmt(a.finalbody);break;case h.Assert:this.visitExpr(a.test),a.msg&&this.visitExpr(a.msg);break;case E.ImportStatement:var m=a;this.visitAlias(m.names,m.lineno);break;case F.ImportFrom:var o=a;this.visitAlias(o.names,o.lineno);break;case v.Exec:this.visitExpr(a.body),a.globals&&(this.visitExpr(a.globals),a.locals&&this.visitExpr(a.locals));break;case B.Global:for(var q=a.names.length,t=0;q>t;++t){var u=e["default"](this.curClass,a.names[t]),x=this.cur.symFlags[u];if(x&(ha.DEF_LOCAL|pa.USE))throw x&ha.DEF_LOCAL?g["default"]("name '"+u+"' is assigned to before global declaration",this.fileName,a.lineno):g["default"]("name '"+u+"' is used prior to global declaration",this.fileName,a.lineno);this.addDef(u,fa.DEF_GLOBAL,a.lineno)}break;case w.Expr:this.visitExpr(a.value);break;case O.Pass:case n.BreakStatement:case r.ContinueStatement:break;case _.WithStatement:var j=a;this.newTmpname(j.lineno),this.visitExpr(j.context_expr),j.optional_vars&&(this.newTmpname(j.lineno),this.visitExpr(j.optional_vars)),this.SEQStmt(j.body);break;default:c.fail("Unhandled type "+a.constructor.name+" in visitStmt")}},a.prototype.visitExpr=function(a){switch(c.assert(void 0!==a,"visitExpr called with undefined"),a.constructor){case m.BoolOp:this.SEQExpr(a.values);break;case l.BinOp:this.visitExpr(a.left),this.visitExpr(a.right);break;case Z.UnaryOp:this.visitExpr(a.operand);break;case H.Lambda:this.addDef("lambda",ha.DEF_LOCAL,a.lineno),a.args.defaults&&this.SEQExpr(a.args.defaults),this.enterBlock("lambda",ka.FunctionBlock,a,a.lineno),this.visitArguments(a.args,a.lineno),this.visitExpr(a.body),this.exitBlock();break;case D.IfExp:this.visitExpr(a.test),this.visitExpr(a.body),this.visitExpr(a.orelse);break;case t.Dict:this.SEQExpr(a.keys),this.SEQExpr(a.values);break;case K.ListComp:this.newTmpname(a.lineno),this.visitExpr(a.elt),this.visitComprehension(a.generators,0);break;case A.GeneratorExp:this.visitGenexp(a);break;case aa.Yield:if(a.value&&this.visitExpr(a.value),this.cur.generator=!0,this.cur.returnsValue)throw g["default"]("'return' with argument inside generator",this.fileName);break;case q.Compare:this.visitExpr(a.left),this.SEQExpr(a.comparators);break;case o.Call:this.visitExpr(a.func),this.SEQExpr(a.args);for(var b=0;b<a.keywords.length;++b)this.visitExpr(a.keywords[b].value);a.starargs&&this.visitExpr(a.starargs),a.kwargs&&this.visitExpr(a.kwargs);break;case M.Num:case U.Str:break;case j.Attribute:this.visitExpr(a.value);break;case V.Subscript:this.visitExpr(a.value),this.visitSlice(a.slice);break;case L.Name:this.addDef(a.id,a.ctx===I.Load?pa.USE:ha.DEF_LOCAL,a.lineno);break;case J.List:case Y.Tuple:this.SEQExpr(a.elts);break;default:c.fail("Unhandled type "+a.constructor.name+" in visitExpr")}},a.prototype.visitComprehension=function(a,b){for(var c=a.length,d=b;c>d;++d){var e=a[d];this.visitExpr(e.target),this.visitExpr(e.iter),this.SEQExpr(e.ifs)}},a.prototype.visitAlias=function(a,b){for(var c=0;c<a.length;++c){var d=a[c],e=null===d.asname?d.name:d.asname,f=e,h=e.indexOf(".");if(-1!==h&&(f=e.substr(0,h)),"*"!==e)this.addDef(f,ga.DEF_IMPORT,b);else if(this.cur.blockType!==oa.ModuleBlock)throw g["default"]("import * only allowed at module level",this.fileName)}},a.prototype.visitGenexp=function(a){var b=a.generators[0];this.visitExpr(b.iter),this.enterBlock("genexpr",ka.FunctionBlock,a,a.lineno),this.cur.generator=!0,this.addDef(".0",ia.DEF_PARAM,a.lineno),this.visitExpr(b.target),this.SEQExpr(b.ifs),this.visitComprehension(a.generators,1),this.visitExpr(a.elt),this.exitBlock()},a.prototype.visitExcepthandlers=function(a){for(var b,c=0;b=a[c];++c)b.type&&this.visitExpr(b.type),b.name&&this.visitExpr(b.name),this.SEQStmt(b.body)},a.prototype.analyzeBlock=function(a,b,c,e){var f={},g={},h={},i={},j={};a.blockType===ca.ClassBlock&&(d["default"](h,e),b&&d["default"](i,b));for(var k in a.symFlags)if(a.symFlags.hasOwnProperty(k)){var l=a.symFlags[k];this.analyzeName(a,g,k,l,b,f,c,e)}a.blockType!==ca.ClassBlock&&(a.blockType===ka.FunctionBlock&&d["default"](i,f),b&&d["default"](i,b),d["default"](h,e));for(var m={},n=a.children.length,o=0;n>o;++o){var p=a.children[o];this.analyzeChildBlock(p,i,j,h,m),(p.hasFree||p.childHasFree)&&(a.childHasFree=!0)}d["default"](j,m),a.blockType===ka.FunctionBlock&&this.analyzeCells(g,j),this.updateSymbols(a.symFlags,g,b,j,a.blockType===ca.ClassBlock),d["default"](c,j)},a.prototype.analyzeChildBlock=function(a,b,c,e,f){var g={};d["default"](g,b);var h={};d["default"](h,c);var i={};d["default"](i,e),this.analyzeBlock(a,g,h,i),d["default"](f,h)},a.prototype.analyzeCells=function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d!==na.LOCAL)continue;if(void 0===b[c])continue;a[c]=ba.CELL,delete b[c]}},a.prototype.updateSymbols=function(a,b,c,d,e){for(var f in a)if(a.hasOwnProperty(f)){var g=a[f],h=b[f];g|=h<<qa.SCOPE_OFF,a[f]=g}var i=ja.FREE<<qa.SCOPE_OFF;for(var j in d)if(d.hasOwnProperty(j)){var k=a[j];if(void 0!==k){if(e&&k&(da.DEF_BOUND|fa.DEF_GLOBAL)){var l=k|ea.DEF_FREE_CLASS;a[j]=l}continue}if(void 0===c[j])continue;a[j]=i}},a.prototype.analyzeName=function(a,b,c,d,e,f,h,i){if(d&fa.DEF_GLOBAL){if(d&ia.DEF_PARAM)throw g["default"]("name '"+c+"' is local and global",this.fileName,a.lineno);return b[c]=la.GLOBAL_EXPLICIT,i[c]=null,void(e&&void 0!==e[c]&&delete e[c])}return d&da.DEF_BOUND?(b[c]=na.LOCAL,f[c]=null,void delete i[c]):void(e&&void 0!==e[c]?(b[c]=ja.FREE,a.hasFree=!0,h[c]=null):i&&void 0!==i[c]?b[c]=ma.GLOBAL_IMPLICIT:(a.isNested&&(a.hasFree=!0),b[c]=ma.GLOBAL_IMPLICIT))},a.prototype.analyze=function(){var a={},b={};this.analyzeBlock(this.top,null,a,b)},a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=ra}),b("pytools/symtable",["require","exports","./SymbolTable","./SymbolConstants"],function(a,b,c,d){"use strict";function e(a,b){var e=new c["default"](b);e.enterBlock("top",d.ModuleBlock,a,0),e.top=e.cur;for(var f=0;f<a.body.length;++f)e.visitStmt(a.body[f]);return e.exitBlock(),e.analyze(),e}function f(a){var b=function(a){return a?"True":"False"},c=function(a){for(var b=[],c=0;c<a.length;++c)b.push(a[c]);return"["+b.join(", ")+"]"},d=function(a,e){void 0===e&&(e="");var f="";f+=e+"Sym_type: "+a.get_type()+"\n",f+=e+"Sym_name: "+a.get_name()+"\n",f+=e+"Sym_lineno: "+a.get_lineno()+"\n",f+=e+"Sym_nested: "+b(a.is_nested())+"\n",f+=e+"Sym_haschildren: "+b(a.has_children())+"\n","class"===a.get_type()?f+=e+"Class_methods: "+c(a.get_methods())+"\n":"function"===a.get_type()&&(f+=e+"Func_params: "+c(a.get_parameters())+"\n",f+=e+"Func_locals: "+c(a.get_locals())+"\n",f+=e+"Func_globals: "+c(a.get_globals())+"\n",f+=e+"Func_frees: "+c(a.get_frees())+"\n"),f+=e+"-- Identifiers --\n";for(var g=a.get_identifiers(),h=g.length,i=0;h>i;++i){var j=a.lookup(g[i]);f+=e+"name: "+j.get_name()+"\n",f+=e+"  is_referenced: "+b(j.is_referenced())+"\n",f+=e+"  is_imported: "+b(j.is_imported())+"\n",f+=e+"  is_parameter: "+b(j.is_parameter())+"\n",f+=e+"  is_global: "+b(j.is_global())+"\n",f+=e+"  is_declared_global: "+b(j.is_declared_global())+"\n",f+=e+"  is_local: "+b(j.is_local())+"\n",f+=e+"  is_free: "+b(j.is_free())+"\n",f+=e+"  is_assigned: "+b(j.is_assigned())+"\n",f+=e+"  is_namespace: "+b(j.is_namespace())+"\n";var k=j.get_namespaces(),l=k.length;f+=e+"  namespaces: [\n";for(var m=[],n=0;l>n;++n){var o=k[n];m.push(d(o,e+"    "))}f+=m.join("\n"),f+=e+"  ]\n"}return f};return d(a.top,"")}b.symbolTable=e,b.dumpSymbolTable=f}),b("pytools/toStringLiteralJS",["require","exports"],function(a,b){"use strict";function c(a){var b="'";-1!==a.indexOf("'")&&-1===a.indexOf('"')&&(b='"');for(var c=a.length,d=b,e=0;c>e;++e){var f=a.charAt(e);if(f===b||"\\"===f)d+="\\"+f;else if("	"===f)d+="\\t";else if("\n"===f)d+="\\n";else if("\r"===f)d+="\\r";else if(" ">f||f>=127){var g=f.charCodeAt(0).toString(16);g.length<2&&(g="0"+g),d+="\\x"+g}else d+=f}return d+=b}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("pytools/sk-compiler",["require","exports","./asserts","./parser","./builder","./reservedNames","./reservedWords","./symtable","./toStringLiteralJS","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la){"use strict";function ma(a){return g["default"][a]!==!0?a:a+"_$rw$"}function na(a){return f["default"][a]?a+"_$rn$":a}function oa(a,b){var c=null;return null===a||null===b||"_"!==b.charAt(0)||"_"!==b.charAt(1)?b:"_"===b.charAt(b.length-1)&&"_"===b.charAt(b.length-2)?b:(c=a,c.replace(/_/g,""),""===c?b:(c=a,c.replace(/^_*/,""),"_"+c+b))}function pa(a,b){var c=d.parse(b,a),f=e.astFromParse(c,b),g=h.symbolTable(f,b),i=new ya(b,g,0,a);return{funcname:i.cmod(f),code:i.result.join("")}}function qa(){wa=0}var ra,sa=0,ta=1,ua=2,va=3,wa=0,xa=function(){function a(){this.ste=null,this.name=null,this.private_=null,this.firstlineno=0,this.lineno=0,this.linenoSet=!1,this.localnames=[],this.blocknum=0,this.blocks=[],this.curblock=0,this.scopename=null,this.prefixCode="",this.varDeclsCode="",this.switchCode="",this.suffixCode="",this.breakBlocks=[],this.continueBlocks=[],this.exceptBlocks=[],this.finallyBlocks=[]}return a.prototype.activateScope=function(){var a=this;ra=function(){for(var b=a.blocks[a.curblock],c=0;c<arguments.length;++c)b.push(arguments[c])}},a}(),ya=function(){function a(a,b,c,d){this.fileName=a,this.st=b,this.flags=c,this.interactive=!1,this.nestlevel=0,this.u=null,this.stack=[],this.result=[],this.allUnits=[],this.source=d?d.split("\n"):!1}return a.prototype.getSourceLine=function(a){return c.assert(!!this.source),this.source[a-1]},a.prototype.annotateSource=function(a){if(this.source){var b=a.lineno,c=a.col_offset;ra("\n//"),ra("\n// line ",b,":"),ra("\n// ",this.getSourceLine(b)),ra("\n// ");for(var d=0;c>d;++d)ra(" ");ra("^"),ra("\n//"),ra("\nSk.currLineNo = ",b,";Sk.currColNo = ",c,";"),ra("\nSk.currFilename = '",this.fileName,"';\n\n")}},a.prototype.gensym=function(a){return a=a||"",a="$"+a,a+=wa++},a.prototype.niceName=function(a){return this.gensym(a.replace("<","").replace(">","").replace(" ","_"))},a.prototype._gr=function(a){var b=this.gensym(a);ra("var ",b,"=");for(var c=1;c<arguments.length;++c)ra(arguments[c]);return ra(";"),b},a.prototype._interruptTest=function(){ra("if (typeof Sk.execStart === 'undefined') {Sk.execStart=new Date()}"),ra("if (Sk.execLimit !== null && new Date() - Sk.execStart > Sk.execLimit) {throw new Sk.builtin.TimeLimitError(Sk.timeoutMsg())}")},a.prototype._jumpfalse=function(a,b){var c=this._gr("jfalse","(",a,"===false||!Sk.misceval.isTrue(",a,"))");this._interruptTest(),ra("if(",c,"){/*test failed */$blk=",b,";continue;}")},a.prototype._jumpundef=function(a,b){this._interruptTest(),ra("if(typeof ",a," === 'undefined'){$blk=",b,";continue;}")},a.prototype._jumptrue=function(a,b){var c=this._gr("jtrue","(",a,"===true||Sk.misceval.isTrue(",a,"))");this._interruptTest(),ra("if(",c,"){/*test passed */$blk=",b,";continue;}")},a.prototype._jump=function(a){this._interruptTest(),ra("$blk=",a,";/* jump */continue;")},a.prototype.ctupleorlist=function(a,b,d){if(c.assert("tuple"===d||"list"===d),a.ctx===Z.Store)for(var e=0;e<a.elts.length;++e)this.vexpr(a.elts[e],"Sk.abstr.objectGetItem("+b+","+e+")");else if(a.ctx===P.Load){for(var f=[],e=0;e<a.elts.length;++e)f.push(this._gr("elem",this.vexpr(a.elts[e])));return this._gr("load"+d,"new Sk.builtins['",d,"']([",f,"])")}},a.prototype.cdict=function(a){c.assert(a.values.length===a.keys.length);for(var b=[],d=0;d<a.values.length;++d){var e=this.vexpr(a.values[d]);b.push(this.vexpr(a.keys[d])),b.push(e)}return this._gr("loaddict","new Sk.builtins['dict']([",b,"])")},a.prototype.clistcompgen=function(a,b,c,d){var e=this.newBlock("list gen start"),f=this.newBlock("list gen skip"),g=this.newBlock("list gen anchor"),h=b[c],i=this.vexpr(h.iter),j=this._gr("iter","Sk.abstr.iter(",i,")");this._jump(e),this.setBlock(e);var k=this._gr("next","Sk.abstr.iternext(",j,")");this._jumpundef(k,g);for(var l=h.ifs.length,m=0;l>m;++m){var n=this.vexpr(h.ifs[m]);this._jumpfalse(n,e)}if(++c<b.length&&this.clistcompgen(a,b,c,d),c>=b.length){var o=this.vexpr(d);ra(a,".v.push(",o,");"),this._jump(f),this.setBlock(f)}return this._jump(e),this.setBlock(g),a},a.prototype.clistcomp=function(a){c.assert(a instanceof O.ListComp);var b=this._gr("_compr","new Sk.builtins['list']([])");return this.clistcompgen(b,a.generators,0,a.elt)},a.prototype.cyield=function(a){if(this.u.ste.blockType!==la.FunctionBlock)throw new SyntaxError("'yield' outside function");var b="null";a.value&&(b=this.vexpr(a.value));var c=this.newBlock("after yield");return ra("return [/*resume*/",c,",/*ret*/",b,"];"),this.setBlock(c),"$gen.gi$sentvalue"},a.prototype.ccompare=function(a){c.assert(a.ops.length===a.comparators.length);for(var b=this.vexpr(a.left),d=a.ops.length,e=this.newBlock("done"),f=this._gr("compareres","null"),g=0;d>g;++g){var h=this.vexpr(a.comparators[g]),i=this._gr("compare","Sk.builtin.bool(Sk.misceval.richCompareBool(",b,",",h,",'",a.ops[g].prototype._astname,"'))");ra(f,"=",i,";"),this._jumpfalse(i,e),b=h}return this._jump(e),this.setBlock(e),f},a.prototype.ccall=function(a){var b=this.vexpr(a.func),c=this.vseqexpr(a.args);if(a.keywords.length>0||a.starargs||a.kwargs){for(var d=[],e=0;e<a.keywords.length;++e)d.push("'"+a.keywords[e].arg+"'"),d.push(this.vexpr(a.keywords[e].value));var f="["+d.join(",")+"]",g="undefined",h="undefined";return a.starargs&&(g=this.vexpr(a.starargs)),a.kwargs&&(h=this.vexpr(a.kwargs)),this._gr("call","Sk.misceval.call(",b,",",h,",",g,",",f,c.length>0?",":"",c,")")}return this._gr("call","Sk.misceval.callsim(",b,c.length>0?",":"",c,")")},a.prototype.cslice=function(a){c.assert(a instanceof Y.Slice);var b=a.lower?this.vexpr(a.lower):"null",d=a.upper?this.vexpr(a.upper):"null",e=a.step?this.vexpr(a.step):"null";return this._gr("slice","new Sk.builtins['slice'](",b,",",d,",",e,")")},a.prototype.vslicesub=function(a){var b;switch(a.constructor){case Number:case String:b=a;break;case L.Index:b=this.vexpr(a.value);break;case Y.Slice:b=this.cslice(a);break;case A.Ellipsis:case C.ExtSlice:c.fail("todo;");break;default:c.fail("invalid subscript kind")}return b},a.prototype.vslice=function(a,b,c,d){var e=this.vslicesub(a);return this.chandlesubscr(b,c,e,d)},a.prototype.chandlesubscr=function(a,b,d,e){return a===P.Load||a===o.AugLoad?this._gr("lsubscr","Sk.abstr.objectGetItem(",b,",",d,")"):void(a===Z.Store||a===p.AugStore?ra("Sk.abstr.objectSetItem(",b,",",d,",",e,");"):a===x.Del?ra("Sk.abstr.objectDelItem(",b,",",d,");"):c.fail("handlesubscr fail"))},a.prototype.cboolop=function(a){c.assert(a instanceof r.BoolOp);var b;b=a.op===j.And?this._jumpfalse:this._jumptrue;for(var d,e=this.newBlock("end of boolop"),f=a.values,g=f.length,h=0;g>h;++h){var i=this.vexpr(f[h]);0===h&&(d=this._gr("boolopsucc",i)),ra(d,"=",i,";"),b.call(this,i,e)}return this._jump(e),this.setBlock(e),d},a.prototype.vexpr=function(a,b,d){switch(a.lineno>this.u.lineno&&(this.u.lineno=a.lineno,this.u.linenoSet=!1),a.constructor){case r.BoolOp:return this.cboolop(a);case q.BinOp:return this._gr("binop","Sk.abstr.numberBinOp(",this.vexpr(a.left),",",this.vexpr(a.right),",'",a.op.prototype._astname,"')");case da.UnaryOp:return this._gr("unaryop","Sk.abstr.numberUnaryOp(",this.vexpr(a.operand),",'",a.op.prototype._astname,"')");case M.Lambda:return this.clambda(a);case I.IfExp:return this.cifexp(a);case z.Dict:return this.cdict(a);case O.ListComp:return this.clistcomp(a);case F.GeneratorExp:return this.cgenexp(a);case fa.Yield:return this.cyield(a);case v.Compare:return this.ccompare(a);case t.Call:var e=this.ccall(a);return this.annotateSource(a),e;case S.Num:if(a.n.isFloat())return"Sk.builtin.numberToPy("+a.n.value+")";if(a.n.isInt())return"Sk.ffi.numberToIntPy("+a.n.value+")";if(a.n.isLong())return"Sk.ffi.longFromString('"+a.n.text+"', "+a.n.radix+")";c.fail("unhandled Num type");case $.Str:return this._gr("str","Sk.builtin.stringToPy(",i["default"](a.s),")");case m.Attribute:var f;a.ctx!==p.AugStore&&(f=this.vexpr(a.value));var g=i["default"](a.attr);switch(g=g.substring(1,g.length-1),g=oa(this.u.private_,g),g=ma(g),g=na(g),a.ctx){case o.AugLoad:case P.Load:return this._gr("lattr","Sk.abstr.gattr(",f,",'",g,"')");case p.AugStore:ra("if(typeof ",b," !== 'undefined'){"),f=this.vexpr(d||null),ra("Sk.abstr.sattr(",f,",'",g,"',",b,");"),ra("}");break;case Z.Store:ra("Sk.abstr.sattr(",f,",'",g,"',",b,");");break;case x.Del:c.fail("todo;");break;case T.Param:default:c.fail("invalid attribute expression")}break;case _.Subscript:switch(a.ctx){case o.AugLoad:case P.Load:case Z.Store:case x.Del:return this.vslice(a.slice,a.ctx,this.vexpr(a.value),b);case p.AugStore:ra("if(typeof ",b," !== 'undefined'){");var h=this.vexpr(d||null);this.vslice(a.slice,a.ctx,h,b),ra("}");break;case T.Param:default:c.fail("invalid subscript expression")}break;case R.Name:return this.nameop(a.id,a.ctx,b);case N.List:return this.ctupleorlist(a,b,"list");case ca.Tuple:return this.ctupleorlist(a,b,"tuple");default:c.fail("unhandled case in vexpr")}},a.prototype.vseqexpr=function(a,b){var d="undefined"==typeof b;c.assert(d||a.length===b.length);for(var e=[],f=0;f<a.length;++f)e.push(this.vexpr(a[f],d?void 0:b[f]));return e},a.prototype.caugassign=function(a){c.assert(a instanceof n.AugAssign);var b=a.target;switch(b.constructor){case m.Attribute:var d=new m.Attribute(b.value,b.attr,o.AugLoad,b.lineno,b.col_offset),e=this.vexpr(d),f=this.vexpr(a.value),g=this._gr("inplbinopattr","Sk.abstr.numberInplaceBinOp(",e,",",f,",'",a.op.prototype._astname,"')");return d.ctx=p.AugStore,this.vexpr(d,g,b.value);case _.Subscript:var h=this.vslicesub(b.slice),d=new _.Subscript(b.value,h,o.AugLoad,b.lineno,b.col_offset),e=this.vexpr(d),f=this.vexpr(a.value),g=this._gr("inplbinopsubscr","Sk.abstr.numberInplaceBinOp(",e,",",f,",'",a.op.prototype._astname,"')");return d.ctx=p.AugStore,this.vexpr(d,g,b.value);case R.Name:var i=this.nameop(b.id,P.Load),f=this.vexpr(a.value),g=this._gr("inplbinop","Sk.abstr.numberInplaceBinOp(",i,",",f,",'",a.op.prototype._astname,"')");return this.nameop(b.id,Z.Store,g);default:c.fail("unhandled case in augassign")}},a.prototype.exprConstant=function(a){switch(a.constructor){case S.Num:c.fail("Trying to call the runtime for Num");break;case $.Str:c.fail("Trying to call the runtime for Str");break;case R.Name:default:return-1}},a.prototype.newBlock=function(a){var b=this.u.blocknum++;return this.u.blocks[b]=[],this.u.blocks[b]._name=a||"<unnamed>",b},a.prototype.setBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.curblock=a},a.prototype.pushBreakBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.breakBlocks.push(a)},a.prototype.popBreakBlock=function(){this.u.breakBlocks.pop()},a.prototype.pushContinueBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.continueBlocks.push(a)},a.prototype.popContinueBlock=function(){this.u.continueBlocks.pop()},a.prototype.pushExceptBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.exceptBlocks.push(a)},a.prototype.popExceptBlock=function(){this.u.exceptBlocks.pop()},a.prototype.pushFinallyBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.finallyBlocks.push(a)},a.prototype.popFinallyBlock=function(){this.u.finallyBlocks.pop()},a.prototype.setupExcept=function(a){ra("$exc.push(",a,");")},a.prototype.endExcept=function(){ra("$exc.pop();")},a.prototype.outputLocals=function(a){for(var b={},c=0;a.argnames&&c<a.argnames.length;++c)b[a.argnames[c]]=!0;a.localnames.sort();for(var d=[],c=0;c<a.localnames.length;++c){var e=a.localnames[c];void 0===b[e]&&(d.push(e),b[e]=!0)}return d.length>0?"var "+d.join(",")+"; /* locals */":""},a.prototype.outputAllUnits=function(){for(var a="",b=0;b<this.allUnits.length;++b){var c=this.allUnits[b];a+=c.prefixCode,a+=this.outputLocals(c),a+=c.varDeclsCode,a+=c.switchCode;for(var d=c.blocks,e=0;e<d.length;++e)a+="case "+e+": /* --- "+d[e]._name+" --- */",a+=d[e].join("");a+=c.suffixCode}return a},a.prototype.cif=function(a){c.assert(a instanceof H.IfStatement);var b=this.exprConstant(a.test);if(0===b)a.orelse&&this.vseqstmt(a.orelse);else if(1===b)this.vseqstmt(a.body);else{var d=this.newBlock("end of if"),e=this.newBlock("next branch of if"),f=this.vexpr(a.test);this._jumpfalse(f,e),this.vseqstmt(a.body),this._jump(d),this.setBlock(e),a.orelse&&this.vseqstmt(a.orelse),this._jump(d)}this.setBlock(d)},a.prototype.cwhile=function(a){var b=this.exprConstant(a.test);if(0===b)a.orelse&&this.vseqstmt(a.orelse);else{var c=this.newBlock("while test");this._jump(c),this.setBlock(c);var d=this.newBlock("after while"),e=a.orelse.length>0?this.newBlock("while orelse"):null,f=this.newBlock("while body");this._jumpfalse(this.vexpr(a.test),e?e:d),this._jump(f),this.pushBreakBlock(d),this.pushContinueBlock(c),this.setBlock(f),this.vseqstmt(a.body),this._jump(c),this.popContinueBlock(),this.popBreakBlock(),a.orelse.length>0&&(this.setBlock(e),this.vseqstmt(a.orelse),this._jump(d)),this.setBlock(d)}},a.prototype.cfor=function(a){var b=this.newBlock("for start"),c=this.newBlock("for cleanup"),d=this.newBlock("for end");this.pushBreakBlock(d),this.pushContinueBlock(b);var e,f=this.vexpr(a.iter);this.u.ste.generator?(e="$loc."+this.gensym("iter"),ra(e,"=Sk.abstr.iter(",f,");")):e=this._gr("iter","Sk.abstr.iter(",f,")"),this._jump(b),this.setBlock(b);var g=this._gr("next","Sk.abstr.iternext(",e,")");this._jumpundef(g,c),this.vseqstmt(a.body),this._jump(b),this.setBlock(c),this.popContinueBlock(),this.popBreakBlock(),this.vseqstmt(a.orelse),this._jump(d),this.setBlock(d)},a.prototype.craise=function(a){if(a&&a.type&&a.type.id&&"StopIteration"===a.type.id)ra("return undefined;");else{var b="";a.inst?(b=this.vexpr(a.inst),ra("throw ",this.vexpr(a.type),"(",b,");")):a.type?a.type.func?ra("throw ",this.vexpr(a.type),";"):ra("throw ",this.vexpr(a.type),"('');"):ra("throw $err;")}},a.prototype.ctryexcept=function(a){for(var b=a.handlers.length,c=[],d=0;b>d;++d)c.push(this.newBlock("except_"+d+"_"));var e=this.newBlock("unhandled"),f=this.newBlock("orelse"),g=this.newBlock("end");this.setupExcept(c[0]),this.vseqstmt(a.body),this.endExcept(),this._jump(f);for(var d=0;b>d;++d){this.setBlock(c[d]);var h=a.handlers[d];if(!h.type&&b-1>d)throw new SyntaxError("default 'except:' must be last");if(h.type){var i=this.vexpr(h.type),j=d===b-1?e:c[d+1],k=this._gr("instance","$err instanceof ",i);this._jumpfalse(k,j)}h.name&&this.vexpr(h.name,"$err"),this.vseqstmt(h.body),this._jump(g)}this.setBlock(e),ra("throw $err;"),this.setBlock(f),this.vseqstmt(a.orelse),this._jump(g),this.setBlock(g)},a.prototype.ctryfinally=function(a){ra("/*todo; tryfinally*/"),this.ctryexcept(a.body[0])},a.prototype.cassert=function(a){var b=this.vexpr(a.test),c=this.newBlock("end");this._jumptrue(b,c),ra("throw new Sk.builtin.AssertionError(",a.msg?this.vexpr(a.msg):"",");"),this.setBlock(c)},a.prototype.cimportas=function(a,b,c){var d=a,e=d.indexOf("."),f=c;if(-1!==e)for(d=d.substr(e+1);-1!==e;){e=d.indexOf(".");var g=-1!==e?d.substr(0,e):d;f=this._gr("lattr","Sk.abstr.gattr(",f,",'",g,"')"),d=d.substr(e+1)}return this.nameop(b,Z.Store,f)},a.prototype.cimport=function(a){for(var b=a.names.length,c=0;b>c;++c){var d=a.names[c],e=this._gr("module","Sk.builtin.__import__(",i["default"](d.name),",$gbl,$loc,[])");if(d.asname)this.cimportas(d.name,d.asname,e);else{var f=d.name.indexOf(".");-1!==f?this.nameop(d.name.substr(0,f),Z.Store,e):this.nameop(d.name,Z.Store,e)}}},a.prototype.cfromimport=function(a){for(var b=a.names.length,d=[],e=0;b>e;++e)d[e]=a.names[e].name;for(var f=d.map(function(a){return i["default"](a)}).join(", "),g=this._gr("module","Sk.builtin.__import__(",i["default"](a.module),",$gbl,$loc,[",f,"])"),e=0;b>e;++e){var h=a.names[e];if(0===e&&"*"===h.name)return c.assert(1===b),void ra("Sk.importStar(",g,",$loc, $gbl);");var j=this._gr("item","Sk.abstr.gattr(",g,",",i["default"](h.name),")"),k=h.name;h.asname&&(k=h.asname),this.nameop(k,Z.Store,j)}},a.prototype.buildcodeobj=function(a,b,c,d,e){var f=[],g=[],h=null,i=null;c&&(f=this.vseqexpr(c)),d&&d.defaults&&(g=this.vseqexpr(d.defaults)),d&&d.vararg&&(h=d.vararg),d&&d.kwarg&&(i=d.kwarg);var j=this.u.ste.hasFree,k=this.u.ste.childHasFree,l=this.enterScope(b,a,a.lineno),m=this.u.ste.generator,n=this.u.ste.hasFree,o=this.u.ste.childHasFree,p=this.u.ste.hasFree,q=this.newBlock("codeobj entry");this.u.prefixCode="var "+l+"=(function "+this.niceName(b)+"$(";var r=[];if(m){if(i)throw new SyntaxError(b+"(): keyword arguments in generators not supported");if(h)throw new SyntaxError(b+"(): variable number of arguments in generators not supported");r.push("$gen")}else{i&&r.push("$kwa");for(var s=0;d&&s<d.args.length;++s)r.push(this.nameop(d.args[s].id,T.Param))}p&&r.push("$free"),this.u.prefixCode+=r.join(","),this.u.prefixCode+="){",m&&(this.u.prefixCode+="\n// generator\n"),j&&(this.u.prefixCode+="\n// containing has free\n"),k&&(this.u.prefixCode+="\n// containing has cell\n"),n&&(this.u.prefixCode+="\n// has free\n"),o&&(this.u.prefixCode+="\n// has cell\n");var t="{}";m&&(q="$gen.gi$resumeat",t="$gen.gi$locals");var u="";o&&(u=",$cell={}"),this.u.varDeclsCode+="var $blk="+q+",$exc=[],$loc="+t+u+",$gbl=this,$err;";for(var s=0;d&&s<d.args.length;++s){var v=d.args[s].id;this.isCell(v)&&(this.u.varDeclsCode+="$cell."+v+"="+v+";")}if(!m){var w=d?d.args.length-g.length:0,x=h?1/0:d?d.args.length:0,y=i?!0:!1;this.u.varDeclsCode+='Sk.builtin.pyCheckArgs("'+b+'", arguments, '+w+", "+x+", "+y+", "+p+");"}if(g.length>0)for(var z=d.args.length-g.length,s=0;s<g.length;++s){var A=this.nameop(d.args[s+z].id,T.Param);this.u.varDeclsCode+="if(typeof "+A+" === 'undefined')"+A+"="+l+".$defaults["+s+"];"}if(h){var B=r.length;this.u.varDeclsCode+=h+"=new Sk.builtins['tuple'](Array.prototype.slice.call(arguments,"+B+")); /*vararg*/"}i&&(this.u.varDeclsCode+=i+"=new Sk.builtins['dict']($kwa);"),this.u.switchCode="while(true){try{switch($blk){",this.u.suffixCode="}}catch(err){if ($exc.length>0) {$err=err;$blk=$exc.pop();continue;} else {throw err;}}}});",e.call(this,l);var C;if(d&&d.args.length>0){for(var D=[],s=0;s<d.args.length;++s)D.push(d.args[s].id);C=D.join("', '"),this.u.argnames=D}this.exitScope(),g.length>0&&ra(l,".$defaults=[",g.join(","),"];"),C&&ra(l,".co_varnames=['",C,"'];"),i&&ra(l,".co_kwargs=1;");var E="";return n&&(E=",$cell",j&&(E+=",$free")),m?d&&d.args.length>0?this._gr("gener","new Sk.builtins['function']((function(){var $origargs=Array.prototype.slice.call(arguments);Sk.builtin.pyCheckArgs(\"",b,'",arguments,',d.args.length-g.length,",",d.args.length,");return new Sk.builtins['generator'](",l,",$gbl,$origargs",E,");}))"):this._gr("gener","new Sk.builtins['function']((function(){Sk.builtin.pyCheckArgs(\"",b,"\",arguments,0,0);return new Sk.builtins['generator'](",l,",$gbl,[]",E,");}))"):this._gr("funcobj","new Sk.builtins['function'](",l,",$gbl",E,")")},a.prototype.cfunction=function(a){c.assert(a instanceof E.FunctionDef);var b=this.buildcodeobj(a,a.name,a.decorator_list,a.args,function(){this.vseqstmt(a.body),ra("return Sk.builtin.none.none$;")});this.nameop(a.name,Z.Store,b)},a.prototype.clambda=function(a){c.assert(a instanceof M.Lambda);var b=this.buildcodeobj(a,"<lambda>",null,a.args,function(){var b=this.vexpr(a.body);ra("return ",b,";")});return b},a.prototype.cifexp=function(a){var b=this.newBlock("next of ifexp"),c=this.newBlock("end of ifexp"),d=this._gr("res","null"),e=this.vexpr(a.test);return this._jumpfalse(e,b),ra(d,"=",this.vexpr(a.body),";"),this._jump(c),this.setBlock(b),ra(d,"=",this.vexpr(a.orelse),";"),this._jump(c),this.setBlock(c),d},a.prototype.cgenexpgen=function(a,b,c){var d,e=this.newBlock("start for "+b),f=this.newBlock("skip for "+b),g=this.newBlock("end for "+b),h=a[b];if(0===b)d="$loc.$iter0";else{var i=this.vexpr(h.iter);d="$loc."+this.gensym("iter"),ra(d,"=","Sk.abstr.iter(",i,");")}this._jump(e),this.setBlock(e);var j=this._gr("next","Sk.abstr.iternext(",d,")");this._jumpundef(j,g);for(var k=h.ifs.length,l=0;k>l;++l){var m=this.vexpr(h.ifs[l]);this._jumpfalse(m,e)}if(++b<a.length&&this.cgenexpgen(a,b,c),b>=a.length){var n=this.vexpr(c);ra("return [",f,"/*resume*/,",n,"/*ret*/];"),this.setBlock(f)}this._jump(e),this.setBlock(g),1===b&&ra("return null;")},a.prototype.cgenexp=function(a){var b=this.buildcodeobj(a,"<genexpr>",null,null,function(){this.cgenexpgen(a.generators,0,a.elt)}),c=this._gr("gener","Sk.misceval.callsim(",b,");");return ra(c,".gi$locals.$iter0=Sk.abstr.iter(",this.vexpr(a.generators[0].iter),");"),c},a.prototype.cclass=function(a){c.assert(a instanceof u.ClassDef);var b=this.vseqexpr(a.bases),d=this.enterScope(a.name,a,a.lineno),e=this.newBlock("class entry");this.u.prefixCode="var "+d+"=(function $"+a.name+"$class_outer($globals,$locals,$rest){var $gbl=$globals,$loc=$locals;",this.u.switchCode+="return(function "+a.name+"(){",this.u.switchCode+="var $blk="+e+",$exc=[];while(true){switch($blk){",this.u.suffixCode="}break;}}).apply(null,$rest);});",this.u.private_=a.name,this.cbody(a.body),ra("break;"),this.exitScope();var f=this._gr("built","Sk.misceval.buildClass($gbl,",d,",",i["default"](a.name),",[",b,"])");this.nameop(a.name,Z.Store,f)},a.prototype.ccontinue=function(){if(0===this.u.continueBlocks.length)throw new SyntaxError("'continue' outside loop");this._jump(this.u.continueBlocks[this.u.continueBlocks.length-1])},a.prototype.vstmt=function(a){switch(this.u.lineno=a.lineno,this.u.linenoSet=!1,this.annotateSource(a),a.constructor){case E.FunctionDef:this.cfunction(a);break;case u.ClassDef:this.cclass(a);break;case X.ReturnStatement:if(this.u.ste.blockType!==la.FunctionBlock)throw new SyntaxError("'return' outside function");a.value?ra("return ",this.vexpr(a.value),";"):ra("return null;");break;case y.DeleteExpression:this.vseqexpr(a.targets);break;case l.Assign:for(var b=a.targets.length,d=this.vexpr(a.value),e=0;b>e;++e)this.vexpr(a.targets[e],d);break;case n.AugAssign:return this.caugassign(a);case V.Print:this.cprint(a);break;case D.ForStatement:return this.cfor(a);case ea.WhileStatement:return this.cwhile(a);case H.IfStatement:return this.cif(a);case W.Raise:return this.craise(a);case aa.TryExcept:return this.ctryexcept(a);case ba.TryFinally:return this.ctryfinally(a);case k.Assert:return this.cassert(a);case J.ImportStatement:return this.cimport(a);case K.ImportFrom:return this.cfromimport(a);case G.Global:break;case B.Expr:this.vexpr(a.value);

break;case U.Pass:break;case s.BreakStatement:if(0===this.u.breakBlocks.length)throw new SyntaxError("'break' outside loop");this._jump(this.u.breakBlocks[this.u.breakBlocks.length-1]);break;case w.ContinueStatement:this.ccontinue(a);break;default:c.fail("unhandled case in vstmt")}},a.prototype.vseqstmt=function(a){for(var b=0;b<a.length;++b)this.vstmt(a[b])},a.prototype.isCell=function(a){var b=oa(this.u.private_,a),c=this.u.ste.getScope(b);return c===ka.CELL?!0:!1},a.prototype.nameop=function(a,b,d){if((b===Z.Store||b===p.AugStore||b===x.Del)&&"__debug__"===a)throw new SyntaxError("can not assign to __debug__");if((b===Z.Store||b===p.AugStore||b===x.Del)&&"None"===a)throw new SyntaxError("can not assign to None");if("None"===a)return"Sk.builtin.none.none$";if("True"===a)return"Sk.ffi.bool.True";if("False"===a)return"Sk.ffi.bool.False";var e=oa(this.u.private_,a),f=va,g=this.u.ste.getScope(e),h=null;switch(g){case ja.FREE:h="$free",f=ua;break;case ka.CELL:h="$cell",f=ua;break;case ga.LOCAL:this.u.ste.blockType!==la.FunctionBlock||this.u.ste.generator||(f=sa);break;case ia.GLOBAL_IMPLICIT:this.u.ste.blockType===la.FunctionBlock&&(f=ta);break;case ha.GLOBAL_EXPLICIT:f=ta}e=na(e),e=ma(e),c.assert(g||"_"===a.charAt(1));var i=e;switch(this.u.ste.generator||this.u.ste.blockType!==la.FunctionBlock?e="$loc."+e:(f===sa||f===va)&&this.u.localnames.push(e),f){case sa:switch(b){case P.Load:case T.Param:return ra("if (typeof ",e," === 'undefined') { throw new Error('local variable \\'",e,"\\' referenced before assignment'); }\n"),e;case Z.Store:ra(e,"=",d,";");break;case x.Del:ra("delete ",e,";");break;default:c.fail("unhandled")}break;case va:switch(b){case P.Load:var j=this.gensym("loadname");return ra("var ",j,"=(typeof ",e," !== 'undefined') ? ",e,":Sk.misceval.loadname('",i,"',$gbl);"),j;case Z.Store:ra(e,"=",d,";");break;case x.Del:ra("delete ",e,";");break;case T.Param:return e;default:c.fail("unhandled")}break;case ta:switch(b){case P.Load:return this._gr("loadgbl","Sk.misceval.loadname('",i,"',$gbl)");case Z.Store:ra("$gbl.",i,"=",d,";");break;case x.Del:ra("delete $gbl.",i);break;default:c.fail("unhandled case in name op_global")}break;case ua:switch(b){case P.Load:return h+"."+i;case Z.Store:ra(h,".",i,"=",d,";");break;case T.Param:return i;default:c.fail("unhandled case in name op_deref")}break;default:c.fail("unhandled case")}},a.prototype.enterScope=function(a,b,c){var d=new xa;d.ste=this.st.getStsForAst(b),d.name=a,d.firstlineno=c,this.u&&this.u.private_&&(d.private_=this.u.private_),this.stack.push(this.u),this.allUnits.push(d);var e=this.gensym("scope");return d.scopename=e,this.u=d,this.u.activateScope(),this.nestlevel++,e},a.prototype.exitScope=function(){var a=this.u;if(this.nestlevel--,this.u=this.stack.length-1>=0?this.stack.pop():null,this.u&&this.u.activateScope(),"<module>"!==a.name){var b=a.name;b=ma(b),b=na(b),ra(a.scopename,".co_name=Sk.builtin.stringToPy('",b,"');")}},a.prototype.cbody=function(a){for(var b=0;b<a.length;++b)this.vstmt(a[b])},a.prototype.cprint=function(a){c.assert(a instanceof V.Print);var b="null";a.dest&&(b=this.vexpr(a.dest));for(var d=a.values.length,e=0;d>e;++e)ra("Sk.misceval.print_(Sk.ffi.remapToJs(new Sk.builtins.str(",this.vexpr(a.values[e]),")));");a.nl&&ra("Sk.misceval.print_('\\n');")},a.prototype.cmod=function(a){var b=this.enterScope("<module>",a,0),d=this.newBlock("module entry");switch(this.u.prefixCode="var "+b+"=(function($modname){",this.u.varDeclsCode="var $blk="+d+",$exc=[],$gbl={},$loc=$gbl,$err;$gbl.__name__=$modname;Sk.globals=$gbl;",this.u.switchCode="try {while(true){try{switch($blk){",this.u.suffixCode="}}catch(err){if ($exc.length>0) {$err=err;$blk=$exc.pop();continue;} else {throw err;}}}}catch(err){if (err instanceof Sk.builtin.SystemExit && !Sk.throwSystemExit) { Sk.misceval.print_(err.toString() + '\\n'); return $loc; } else { throw err; } } });",a.constructor){case Q.Module:this.cbody(a.body),ra("return $loc;");break;default:c.fail("todo; unhandled case in compilerMod")}return this.exitScope(),this.result.push(this.outputAllUnits()),b},a}();b.compile=pa,b.resetCompiler=qa}),b("pytools/ts-compiler",["require","exports","./asserts","./base","./parser","./builder","./reservedNames","./reservedWords","./symtable","./toStringLiteralJS","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./types","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants","./SymbolConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la){"use strict";function ma(a){return h["default"][a]!==!0?a:a+"_$rw$"}function na(a){return g["default"][a]?a+"_$rn$":a}function oa(a,b){var c=null;return null===a||null===b||"_"!==b.charAt(0)||"_"!==b.charAt(1)?b:"_"===b.charAt(b.length-1)&&"_"===b.charAt(b.length-2)?b:(c=a,c.replace(/_/g,""),""===c?b:(c=a,c.replace(/^_*/,""),"_"+c+b))}function pa(a,b){var c=e.parse(b,a),d=f.astFromParse(c,b),g=i.symbolTable(d,b),h=new ya(b,g,0,a),j=0;return{funcname:h.cmod(d,j),code:h.result.join("")}}function qa(){wa=0}var ra,sa=0,ta=1,ua=2,va=3,wa=0,xa=function(){function a(){this.ste=null,this.name=null,this.private_=null,this.firstlineno=0,this.lineno=0,this.linenoSet=!1,this.localnames=[],this.blocknum=0,this.blocks=[],this.curblock=0,this.scopename=null,this.prefixCode="",this.varDeclsCode="",this.switchCode="",this.suffixCode="",this.breakBlocks=[],this.continueBlocks=[],this.exceptBlocks=[],this.finallyBlocks=[]}return a.prototype.activateScope=function(){var a=this;ra=function(){for(var b=a.blocks[a.curblock],c=0;c<arguments.length;++c)b.push(arguments[c])}},a}(),ya=function(){function a(a,b,c,d){this.fileName=a,this.st=b,this.flags=c,this.interactive=!1,this.nestlevel=0,this.u=null,this.stack=[],this.result=[],this.allUnits=[],this.source=d?d.split("\n"):!1}return a.prototype.getSourceLine=function(a){return c.assert(!!this.source),this.source[a-1]},a.prototype.annotateSource=function(a){if(this.source)for(var b=a.col_offset,c=0;b>c;++c)ra(" ")},a.prototype.gensym=function(a){return a=a||"",a="$"+a,a+=wa++},a.prototype.niceName=function(a){return this.gensym(a.replace("<","").replace(">","").replace(" ","_"))},a.prototype.emitArgs=function(){for(var a=1;a<arguments.length;++a)ra(arguments[a])},a.prototype.ctupleorlist=function(a,b,d){if(c.assert("tuple"===d||"list"===d),a.ctx===Z.Store)for(var e=0;e<a.elts.length;++e)this.vexpr(a.elts[e],"Sk.abstr.objectGetItem("+b+","+e+")");else if(a.ctx===P.Load)for(var e=0;e<a.elts.length;++e);},a.prototype.cdict=function(a){c.assert(a.values.length===a.keys.length);for(var b=[],d=0;d<a.values.length;++d){var e=this.vexpr(a.values[d]);b.push(this.vexpr(a.keys[d])),b.push(e)}},a.prototype.clistcompgen=function(a,b,c,d){var e=this.newBlock("list gen start"),f=this.newBlock("list gen skip"),g=this.newBlock("list gen anchor"),h=b[c];this.setBlock(e);for(var i=h.ifs.length,j=0;i>j;++j);if(++c<b.length&&this.clistcompgen(a,b,c,d),c>=b.length){var k=this.vexpr(d);ra(a,".v.push(",k,");"),this.setBlock(f)}return this.setBlock(g),a},a.prototype.clistcomp=function(a){c.assert(a instanceof O.ListComp)},a.prototype.cyield=function(a){if(this.u.ste.blockType!==la.FunctionBlock)throw new SyntaxError("'yield' outside function");var b="null";a.value&&(b=this.vexpr(a.value));var c=this.newBlock("after yield");return ra("return [/*resume*/",c,",/*ret*/",b,"];"),this.setBlock(c),"$gen.gi$sentvalue"},a.prototype.ccompare=function(a){c.assert(a.ops.length===a.comparators.length);for(var b=this.vexpr(a.left),d=a.ops.length,e=this.newBlock("done"),f=0;d>f;++f){var g=this.vexpr(a.comparators[f]);b=g}this.setBlock(e)},a.prototype.ccall=function(a){var b=this.vexpr(a.func),c=this.vseqexpr(a.args);if(a.keywords.length>0||a.starargs||a.kwargs){for(var d=[],e=0;e<a.keywords.length;++e)d.push("'"+a.keywords[e].arg+"'"),d.push(this.vexpr(a.keywords[e].value));var f="undefined",g="undefined";a.starargs&&(f=this.vexpr(a.starargs)),a.kwargs&&(g=this.vexpr(a.kwargs))}else this.emitArgs(b,"(",c,")")},a.prototype.cslice=function(a){c.assert(a instanceof Y.Slice)},a.prototype.vslicesub=function(a){var b;switch(a.constructor){case Number:case String:b=a;break;case L.Index:b=this.vexpr(a.value);break;case Y.Slice:b=this.cslice(a);break;case A.Ellipsis:case C.ExtSlice:c.fail("todo;");break;default:c.fail("invalid subscript kind")}return b},a.prototype.vslice=function(a,b,c,d){var e=this.vslicesub(a);return this.chandlesubscr(b,c,e,d)},a.prototype.chandlesubscr=function(a,b,d,e){a===P.Load||a===o.AugLoad||(a===Z.Store||a===p.AugStore?ra("Sk.abstr.objectSetItem(",b,",",d,",",e,");"):a===x.Del?ra("Sk.abstr.objectDelItem(",b,",",d,");"):c.fail("handlesubscr fail"))},a.prototype.cboolop=function(a){c.assert(a instanceof r.BoolOp);for(var b,d=this.newBlock("end of boolop"),e=a.values,f=e.length,g=0;f>g;++g){var h=this.vexpr(e[g]);ra(b," = ",h,";")}return this.setBlock(d),b},a.prototype.vexpr=function(a,b,d){switch(a.lineno>this.u.lineno&&(this.u.lineno=a.lineno,this.u.linenoSet=!1),a.constructor){case r.BoolOp:return this.cboolop(a);case q.BinOp:return this.emitArgs("binop","Sk.abstr.numberBinOp(",this.vexpr(a.left),",",this.vexpr(a.right),",'",a.op.prototype._astname,"')");case da.UnaryOp:return this.emitArgs("unaryop","Sk.abstr.numberUnaryOp(",this.vexpr(a.operand),",'",a.op.prototype._astname,"')");case M.Lambda:return this.clambda(a);case I.IfExp:return this.cifexp(a);case z.Dict:return this.cdict(a);case O.ListComp:return this.clistcomp(a);case F.GeneratorExp:return this.cgenexp(a);case fa.Yield:return this.cyield(a);case v.Compare:return this.ccompare(a);case t.Call:var e=this.ccall(a);return this.annotateSource(a),e;case S.Num:var f=a;if(f.n.isFloat())return f.n.value.toString();if(f.n.isInt())return f.n.value.toString();if(a.n.isLong())return"longFromString('"+a.n.text+"', "+a.n.radix+")";c.fail("unhandled Num type");case $.Str:var g=a;return j["default"](g.s);case m.Attribute:var h;a.ctx!==p.AugStore&&(h=this.vexpr(a.value));var i=j["default"](a.attr);switch(i=i.substring(1,i.length-1),i=oa(this.u.private_,i),i=ma(i),i=na(i),a.ctx){case o.AugLoad:case P.Load:return this.emitArgs("lattr","Sk.abstr.gattr(",h,",'",i,"')");case p.AugStore:ra("if(typeof ",b," !== 'undefined'){"),h=this.vexpr(d||null),ra("Sk.abstr.sattr(",h,",'",i,"',",b,");"),ra("}");break;case Z.Store:ra("Sk.abstr.sattr(",h,",'",i,"',",b,");");break;case x.Del:c.fail("todo;");break;case T.Param:default:c.fail("invalid attribute expression")}break;case _.Subscript:switch(a.ctx){case o.AugLoad:case P.Load:case Z.Store:case x.Del:return this.vslice(a.slice,a.ctx,this.vexpr(a.value),b);case p.AugStore:ra("if(typeof ",b," !== 'undefined'){");var k=this.vexpr(d||null);this.vslice(a.slice,a.ctx,k,b),ra("}");break;case T.Param:default:c.fail("invalid subscript expression")}break;case R.Name:return this.nameop(a.id,a.ctx,b);case N.List:return this.ctupleorlist(a,b,"list");case ca.Tuple:return this.ctupleorlist(a,b,"tuple");default:c.fail("unhandled case in vexpr")}},a.prototype.vseqexpr=function(a,b){var d="undefined"==typeof b;c.assert(d||a.length===b.length);for(var e=[],f=0;f<a.length;++f)e.push(this.vexpr(a[f],d?void 0:b[f]));return e},a.prototype.caugassign=function(a){c.assert(a instanceof n.AugAssign);var b=a.target;switch(b.constructor){case m.Attribute:var d=new m.Attribute(b.value,b.attr,o.AugLoad,b.lineno,b.col_offset),e=this.vexpr(d),f=this.vexpr(a.value),g=this.emitArgs("inplbinopattr","Sk.abstr.numberInplaceBinOp(",e,",",f,",'",a.op.prototype._astname,"')");return d.ctx=p.AugStore,this.vexpr(d,g,b.value);case _.Subscript:var h=this.vslicesub(b.slice),d=new _.Subscript(b.value,h,o.AugLoad,b.lineno,b.col_offset),e=this.vexpr(d),f=this.vexpr(a.value),g=this.emitArgs("inplbinopsubscr","Sk.abstr.numberInplaceBinOp(",e,",",f,",'",a.op.prototype._astname,"')");return d.ctx=p.AugStore,this.vexpr(d,g,b.value);case R.Name:var i=this.nameop(b.id,P.Load),f=this.vexpr(a.value),g=this.emitArgs("inplbinop","Sk.abstr.numberInplaceBinOp(",i,",",f,",'",a.op.prototype._astname,"')");return this.nameop(b.id,Z.Store,g);default:c.fail("unhandled case in augassign")}},a.prototype.exprConstant=function(a){switch(a.constructor){case S.Num:c.fail("Trying to call the runtime for Num");break;case $.Str:c.fail("Trying to call the runtime for Str");break;case R.Name:default:return-1}},a.prototype.newBlock=function(a){var b=this.u.blocknum++;return this.u.blocks[b]=[],this.u.blocks[b]._name=a||"<unnamed>",b},a.prototype.setBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.curblock=a},a.prototype.pushBreakBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.breakBlocks.push(a)},a.prototype.popBreakBlock=function(){this.u.breakBlocks.pop()},a.prototype.pushContinueBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.continueBlocks.push(a)},a.prototype.popContinueBlock=function(){this.u.continueBlocks.pop()},a.prototype.pushExceptBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.exceptBlocks.push(a)},a.prototype.popExceptBlock=function(){this.u.exceptBlocks.pop()},a.prototype.pushFinallyBlock=function(a){c.assert(a>=0&&a<this.u.blocknum),this.u.finallyBlocks.push(a)},a.prototype.popFinallyBlock=function(){this.u.finallyBlocks.pop()},a.prototype.setupExcept=function(a){ra("$exc.push(",a,");")},a.prototype.endExcept=function(){ra("$exc.pop();")},a.prototype.outputLocals=function(a){for(var b={},c=0;a.argnames&&c<a.argnames.length;++c)b[a.argnames[c]]=!0;a.localnames.sort();for(var d=[],c=0;c<a.localnames.length;++c){var e=a.localnames[c];void 0===b[e]&&(d.push(e),b[e]=!0)}return d.length>0?"var "+d.join(",")+"; /* locals */":""},a.prototype.outputAllUnits=function(){for(var a="",b=0;b<this.allUnits.length;++b){var c=this.allUnits[b];a+=c.prefixCode,a+=this.outputLocals(c),a+=c.varDeclsCode,a+=c.switchCode;for(var d=c.blocks,e=0;e<d.length;++e)a+=d[e].join("");a+=c.suffixCode}return a},a.prototype.ifStatement=function(a,b){c.assert(a instanceof H.IfStatement),c.assert(d.isNumber(b));var e,f=this.exprConstant(a.test);if(0===f)a.orelse&&this.vseqstmt(a.orelse,b);else if(1===f)this.vseqstmt(a.body,b);else{e=this.newBlock("end of if");var g=this.newBlock("next branch of if");this.vseqstmt(a.body,b),this.setBlock(g),a.orelse&&this.vseqstmt(a.orelse,b)}this.setBlock(e)},a.prototype.cwhile=function(a,b){var c=this.exprConstant(a.test);if(0===c)a.orelse&&this.vseqstmt(a.orelse,b);else{var d=this.newBlock("while test");this.setBlock(d);var e=this.newBlock("after while"),f=a.orelse.length>0?this.newBlock("while orelse"):null,g=this.newBlock("while body");this.pushBreakBlock(e),this.pushContinueBlock(d),this.setBlock(g),this.vseqstmt(a.body,b),this.popContinueBlock(),this.popBreakBlock(),a.orelse.length>0&&(this.setBlock(f),this.vseqstmt(a.orelse,b)),this.setBlock(e)}},a.prototype.cfor=function(a,b){var c=this.newBlock("for start"),d=this.newBlock("for cleanup"),e=this.newBlock("for end");this.pushBreakBlock(e),this.pushContinueBlock(c);var f,g=this.vexpr(a.iter);this.u.ste.generator?(f="$loc."+this.gensym("iter"),ra(f,"=Sk.abstr.iter(",g,");")):f=this.emitArgs("iter","Sk.abstr.iter(",g,")"),this.setBlock(c),this.vseqstmt(a.body,b),this.setBlock(d),this.popContinueBlock(),this.popBreakBlock(),this.vseqstmt(a.orelse,b),this.setBlock(e)},a.prototype.craise=function(a){if(a&&a.type&&a.type.id&&"StopIteration"===a.type.id)ra("return undefined;");else{var b="";a.inst?(b=this.vexpr(a.inst),ra("throw ",this.vexpr(a.type),"(",b,");")):a.type?a.type.func?ra("throw ",this.vexpr(a.type),";"):ra("throw ",this.vexpr(a.type),"('');"):ra("throw $err;")}},a.prototype.ctryexcept=function(a,b){for(var c=a.handlers.length,d=[],e=0;c>e;++e)d.push(this.newBlock("except_"+e+"_"));var f=this.newBlock("unhandled"),g=this.newBlock("orelse"),h=this.newBlock("end");this.setupExcept(d[0]),this.vseqstmt(a.body,b),this.endExcept();for(var e=0;c>e;++e){this.setBlock(d[e]);var i=a.handlers[e];if(!i.type&&c-1>e)throw new SyntaxError("default 'except:' must be last");i.type,i.name&&this.vexpr(i.name,"$err"),this.vseqstmt(i.body,b)}this.setBlock(f),ra("throw $err;"),this.setBlock(g),this.vseqstmt(a.orelse,b),this.setBlock(h)},a.prototype.ctryfinally=function(a,b){ra("/*todo; tryfinally*/"),this.ctryexcept(a.body[0],b)},a.prototype.cassert=function(a){var b=this.newBlock("end");ra("throw new Sk.builtin.AssertionError(",a.msg?this.vexpr(a.msg):"",");"),this.setBlock(b)},a.prototype.cimportas=function(a,b,c){var d=a,e=d.indexOf("."),f=c;if(-1!==e)for(d=d.substr(e+1);-1!==e;){e=d.indexOf(".");var g=-1!==e?d.substr(0,e):d;f=this.emitArgs("lattr","Sk.abstr.gattr(",f,",'",g,"')"),d=d.substr(e+1)}return this.nameop(b,Z.Store,f)},a.prototype.cimport=function(a){for(var b=a.names.length,c=0;b>c;++c){var d=a.names[c],e=this.emitArgs("module","Sk.builtin.__import__(",j["default"](d.name),",$gbl,$loc,[])");if(d.asname)this.cimportas(d.name,d.asname,e);else{var f=d.name.indexOf(".");-1!==f?this.nameop(d.name.substr(0,f),Z.Store,e):this.nameop(d.name,Z.Store,e)}}},a.prototype.cfromimport=function(a){for(var b=a.names.length,d=[],e=0;b>e;++e)d[e]=a.names[e].name;for(var f=0;b>f;++f){var g=a.names[f];if(0===f&&"*"===g.name)return c.assert(1===b),void ra("import * from "+j["default"](a.module)+";")}},a.prototype.buildcodeobj=function(a,b,c,d,e){var f=[],g=[],h=null,i=null;c&&(f=this.vseqexpr(c)),d&&d.defaults&&(g=this.vseqexpr(d.defaults)),d&&d.vararg&&(h=d.vararg),d&&d.kwarg&&(i=d.kwarg);var j=this.u.ste.hasFree,k=this.u.ste.childHasFree,l=this.enterScope(b,a,a.lineno),m=this.u.ste.generator,n=this.u.ste.hasFree,o=this.u.ste.childHasFree,p=this.u.ste.hasFree,q=this.newBlock("codeobj entry");this.u.prefixCode="var "+l+"=(function "+this.niceName(b)+"$(";var r=[];if(m){if(i)throw new SyntaxError(b+"(): keyword arguments in generators not supported");if(h)throw new SyntaxError(b+"(): variable number of arguments in generators not supported");r.push("$gen")}else{i&&r.push("$kwa");for(var s=0;d&&s<d.args.length;++s)r.push(this.nameop(d.args[s].id,T.Param))}p&&r.push("$free"),this.u.prefixCode+=r.join(","),this.u.prefixCode+="){",m&&(this.u.prefixCode+="\n// generator\n"),j&&(this.u.prefixCode+="\n// containing has free\n"),k&&(this.u.prefixCode+="\n// containing has cell\n"),n&&(this.u.prefixCode+="\n// has free\n"),o&&(this.u.prefixCode+="\n// has cell\n");var t="{}";m&&(q="$gen.gi$resumeat",t="$gen.gi$locals");var u="";o&&(u=",$cell={}"),this.u.varDeclsCode+="var $blk="+q+",$exc=[],$loc="+t+u+",$gbl=this,$err;";for(var s=0;d&&s<d.args.length;++s){var v=d.args[s].id;this.isCell(v)&&(this.u.varDeclsCode+="$cell."+v+" = "+v+";")}if(!m){var w=d?d.args.length-g.length:0,x=h?1/0:d?d.args.length:0,y=i?!0:!1;this.u.varDeclsCode+='Sk.builtin.pyCheckArgs("'+b+'", arguments, '+w+", "+x+", "+y+", "+p+");"}if(g.length>0)for(var z=d.args.length-g.length,s=0;s<g.length;++s){var A=this.nameop(d.args[s+z].id,T.Param);this.u.varDeclsCode+="if(typeof "+A+" === 'undefined')"+A+" = "+l+".$defaults["+s+"];"}if(h){var B=r.length;this.u.varDeclsCode+=h+"=new Sk.builtins['tuple'](Array.prototype.slice.call(arguments,"+B+")); /*vararg*/"}i&&(this.u.varDeclsCode+=i+"=new Sk.builtins['dict']($kwa);"),this.u.switchCode="while(true){try{switch($blk){",this.u.suffixCode="}}catch(err){if ($exc.length>0) {$err=err;$blk=$exc.pop();continue;} else {throw err;}}}});",e.call(this,l);var C;if(d&&d.args.length>0){for(var D=[],s=0;s<d.args.length;++s)D.push(d.args[s].id);C=D.join("', '"),this.u.argnames=D}this.exitScope(),g.length>0&&ra(l,".$defaults=[",g.join(","),"];"),C&&ra(l,".co_varnames=['",C,"'];"),i&&ra(l,".co_kwargs=1;");var E="";return n&&(E=",$cell",j&&(E+=",$free")),m?d&&d.args.length>0?this.emitArgs("gener","new Sk.builtins['function']((function(){var $origargs=Array.prototype.slice.call(arguments);Sk.builtin.pyCheckArgs(\"",b,'",arguments,',d.args.length-g.length,",",d.args.length,");return new Sk.builtins['generator'](",l,",$gbl,$origargs",E,");}))"):this.emitArgs("gener","new Sk.builtins['function']((function(){Sk.builtin.pyCheckArgs(\"",b,"\",arguments,0,0);return new Sk.builtins['generator'](",l,",$gbl,[]",E,");}))"):this.emitArgs("funcobj","new Sk.builtins['function'](",l,",$gbl",E,")")},a.prototype.cfunction=function(a){c.assert(a instanceof E.FunctionDef);var b=this.buildcodeobj(a,a.name,a.decorator_list,a.args,function(){this.vseqstmt(a.body),ra("return Sk.builtin.none.none$;")});this.nameop(a.name,Z.Store,b)},a.prototype.clambda=function(a){c.assert(a instanceof M.Lambda);var b=this.buildcodeobj(a,"<lambda>",null,a.args,function(){var b=this.vexpr(a.body);ra("return ",b,";")});return b},a.prototype.cifexp=function(a){var b=this.newBlock("next of ifexp"),c=this.newBlock("end of ifexp"),d=this.emitArgs("res","null");return ra(d,"=",this.vexpr(a.body),";"),this.setBlock(b),ra(d,"=",this.vexpr(a.orelse),";"),this.setBlock(c),d},a.prototype.cgenexpgen=function(a,b,c){var d,e=this.newBlock("start for "+b),f=this.newBlock("skip for "+b),g=this.newBlock("end for "+b),h=a[b];if(0===b)d="$loc.$iter0";else{var i=this.vexpr(h.iter);d="$loc."+this.gensym("iter"),ra(d," = ","Sk.abstr.iter(",i,");")}this.setBlock(e);for(var j=h.ifs.length,k=0;j>k;++k);if(++b<a.length&&this.cgenexpgen(a,b,c),b>=a.length){var l=this.vexpr(c);ra("return [",f,"/*resume*/,",l,"/*ret*/];"),this.setBlock(f)}this.setBlock(g),1===b&&ra("return null;")},a.prototype.cgenexp=function(a){var b=this.buildcodeobj(a,"<genexpr>",null,null,function(){this.cgenexpgen(a.generators,0,a.elt)}),c=this.emitArgs("gener","Sk.misceval.callsim(",b,");");return ra(c,".gi$locals.$iter0=Sk.abstr.iter(",this.vexpr(a.generators[0].iter),");"),c},a.prototype.cclass=function(a,b){c.assert(a instanceof u.ClassDef);var d=this.vseqexpr(a.bases),e=this.enterScope(a.name,a,a.lineno),f=this.newBlock("class entry");this.u.prefixCode="var "+e+"=(function $"+a.name+"$class_outer($globals,$locals,$rest){var $gbl=$globals,$loc=$locals;",this.u.switchCode+="return(function "+a.name+"(){",this.u.switchCode+="var $blk="+f+",$exc=[];while(true){switch($blk){",this.u.suffixCode="}break;}}).apply(null,$rest);});",this.u.private_=a.name,this.cbody(a.body,b),ra("break;"),this.exitScope();var g=this.emitArgs("built","Sk.misceval.buildClass($gbl,",e,",",j["default"](a.name),",[",d,"])");this.nameop(a.name,Z.Store,g)},a.prototype.ccontinue=function(){if(0===this.u.continueBlocks.length)throw new SyntaxError("'continue' outside loop")},a.prototype.vstmt=function(a,b){switch(this.u.lineno=a.lineno,this.u.linenoSet=!1,this.annotateSource(a),a.constructor){case E.FunctionDef:this.cfunction(a);break;case u.ClassDef:this.cclass(a,b);break;case X.ReturnStatement:var d=a;if(this.u.ste.blockType!==la.FunctionBlock)throw new SyntaxError("'return' outside function");d.value?ra("return ",this.vexpr(d.value),";"):ra("return null;");break;case y.DeleteExpression:this.vseqexpr(a.targets);break;case l.Assign:for(var e=a,f=e.targets.length,g=this.vexpr(e.value),h=0;f>h;++h)this.vexpr(e.targets[h],g);break;case n.AugAssign:return this.caugassign(a);case V.Print:this.cprint(a);break;case D.ForStatement:return this.cfor(a,b);case ea.WhileStatement:return this.cwhile(a,b);case H.IfStatement:return this.ifStatement(a,b);case W.Raise:return this.craise(a);case aa.TryExcept:return this.ctryexcept(a,b);case ba.TryFinally:return this.ctryfinally(a,b);case k.Assert:return this.cassert(a);case J.ImportStatement:return this.cimport(a);case K.ImportFrom:return this.cfromimport(a);case G.Global:break;case B.Expr:this.vexpr(a.value);break;case U.Pass:break;case s.BreakStatement:if(0===this.u.breakBlocks.length)throw new SyntaxError("'break' outside loop");break;case w.ContinueStatement:this.ccontinue(a);break;default:c.fail("unhandled case in vstmt")}},a.prototype.vseqstmt=function(a,b){for(var c=0;c<a.length;++c)this.vstmt(a[c],b)},a.prototype.isCell=function(a){var b=oa(this.u.private_,a),c=this.u.ste.getScope(b);return c===ka.CELL?!0:!1},a.prototype.nameop=function(a,b,d){if((b===Z.Store||b===p.AugStore||b===x.Del)&&"__debug__"===a)throw new SyntaxError("can not assign to __debug__");if((b===Z.Store||b===p.AugStore||b===x.Del)&&"None"===a)throw new SyntaxError("can not assign to None");if("None"===a)return"Sk.builtin.none.none$";if("True"===a)return"Sk.ffi.bool.True";if("False"===a)return"Sk.ffi.bool.False";var e=oa(this.u.private_,a),f=va,g=this.u.ste.getScope(e),h=null;switch(g){case ja.FREE:h="$free",f=ua;break;case ka.CELL:h="$cell",f=ua;break;case ga.LOCAL:this.u.ste.blockType!==la.FunctionBlock||this.u.ste.generator||(f=sa);break;case ia.GLOBAL_IMPLICIT:this.u.ste.blockType===la.FunctionBlock&&(f=ta);break;case ha.GLOBAL_EXPLICIT:f=ta}e=na(e),e=ma(e),c.assert(g||"_"===a.charAt(1));var i=e;switch(this.u.ste.generator||this.u.ste.blockType!==la.FunctionBlock||(f===sa||f===va)&&this.u.localnames.push(e),f){case sa:switch(b){case P.Load:case T.Param:return ra("if (typeof ",e," === 'undefined') { throw new Error('local variable \\'",e,"\\' referenced before assignment'); }\n"),e;case Z.Store:ra(e," = ",d,";");break;case x.Del:ra("delete ",e,";");break;default:c.fail("unhandled")}break;case va:switch(b){case P.Load:ra(i);break;case Z.Store:ra(e," = ",d,";");break;case x.Del:ra("delete ",e,";");break;case T.Param:return e;default:c.fail("unhandled")}break;case ta:switch(b){case P.Load:return i;case Z.Store:ra("$gbl.",i," = ",d,";");break;case x.Del:ra("delete $gbl.",i);break;default:c.fail("unhandled case in name op_global")}break;case ua:switch(b){case P.Load:return h+"."+i;case Z.Store:ra(h,".",i," = ",d,";");break;case T.Param:return i;default:c.fail("unhandled case in name op_deref")}break;default:c.fail("unhandled case")}},a.prototype.enterScope=function(a,b,c){var d=new xa;d.ste=this.st.getStsForAst(b),d.name=a,d.firstlineno=c,this.u&&this.u.private_&&(d.private_=this.u.private_),this.stack.push(this.u),this.allUnits.push(d);var e=this.gensym("scope");return d.scopename=e,this.u=d,this.u.activateScope(),this.nestlevel++,e},a.prototype.exitScope=function(){var a=this.u;if(this.nestlevel--,this.u=this.stack.length-1>=0?this.stack.pop():null,this.u&&this.u.activateScope(),"<module>"!==a.name){var b=a.name;b=ma(b),b=na(b),ra(a.scopename,".co_name=Sk.builtin.stringToPy('",b,"');")}},a.prototype.cbody=function(a,b){for(var c=0;c<a.length;++c)this.vstmt(a[c],b)},a.prototype.cprint=function(a){c.assert(a instanceof V.Print);var b="null";a.dest&&(b=this.vexpr(a.dest));for(var d=a.values.length,e=0;d>e;++e);a.nl},a.prototype.cmod=function(a,b){var d=this.enterScope("<module>",a,0);switch(this.newBlock("module entry"),a.constructor){case Q.Module:this.cbody(a.body,b);break;default:c.fail("todo; unhandled case in compilerMod")}return this.exitScope(),this.result.push(this.outputAllUnits()),d},a}();b.compile=pa,b.resetCompiler=qa}),b("pytools",["require","exports","./pytools/parser","./pytools/builder","./pytools/sk-compiler","./pytools/ts-compiler"],function(a,b,c,d,e,f){"use strict";var g={parser:{parse:c.parse,parseTreeDump:c.parseTreeDump},builder:{astFromParse:d.astFromParse,astDump:d.astDump},skCompiler:{compile:e.compile,resetCompiler:e.resetCompiler},tsCompiler:{compile:f.compile,resetCompiler:f.resetCompiler}};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=g});var g=d("pytools");!function(){"undefined"!=typeof module&&module.exports?module.exports=g:e?!function(a){a(function(){return g})}(e):a.PYTOOLS=g}()}(this,void 0);